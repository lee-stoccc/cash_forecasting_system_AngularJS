(function(){angular.module("devplatformApp").controller("ComponentEditController",a);a.$inject=["MenuManagementService","$scope","$compile","PublicService"];function a(h,c,e,d){if(c.componentId){h.getComponentById(c.componentId).then(function(j){c.sysComponent=j.data})}c.sysComponent={formId:c.formId};c.saveComponent=function(){c.isSaving=true;if(c.sysComponent.id!==null&&c.sysComponent.id!==undefined){h.updateSysComponent(c.sysComponent).then(function(j){var k="global.saveSuccess";d.openDialog(k);c.closeThisDialog()})}else{h.createSysComponent(c.sysComponent).then(function(j){var k="global.saveSuccess";d.openDialog(k);c.closeThisDialog()})}};var i=e(angular.element("<span style='color:red;font-size: 10px;' data-translate='devplatformApp.sysComponent.onlyChinses'>只能输入中文</span>"))(c);var f=e(angular.element("<span style='color:red;font-size: 10px;' data-translate='devplatformApp.sysComponent.onlyEnglish'>只能输入字母</span>"))(c);var b=/^[\u2E80-\u9FFF]{1,10}$/;var g=/^[a-zA-Z]{1,20}$/;c.checkComponentName=function(){c.isSaving=true;if(b.test(c.sysComponent.componentName)){if(i){i.remove()}angular.element("#field_componentName").removeClass("input-err");if(g.test(c.sysComponent.englishName)){c.isSaving=false}}else{angular.element("#componentNameDiv").append(i);angular.element("#field_componentName").addClass("input-err")}};c.checkEnglishName=function(){c.isSaving=true;if(g.test(c.sysComponent.englishName)){if(f){f.remove()}angular.element("#field_englishName").removeClass("input-err");if(b.test(c.sysComponent.componentName)){c.isSaving=false}}else{angular.element("#englishNameDiv").append(f);angular.element("#field_englishName").addClass("input-err")}}}})();