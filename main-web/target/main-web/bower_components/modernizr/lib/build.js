"use strict";var inBrowser=typeof define=="function"&&typeof define.amd=="object";var _extend=function(d,c){for(var f in c){var e=c[f];if(Object.prototype.toString.call(e)==="[object Object]"){d[f]=d[f]||{};_extend(d[f],e)}else{d[f]=c[f]}}};var baseRequireConfig={optimize:"none",generateSourceMaps:false,optimizeCss:"none",useStrict:true,include:["modernizr-init"],fileExclusionRegExp:/^(.git|node_modules|modulizr|media|test)$/,wrap:{start:"\n;(function(window, document, undefined){",end:"})(window, document);"},onBuildWrite:function(c,b,a){if(this.optimize==="uglify2"){a=a.replace(/\/\*\![\s\S]*\!\*\//m,"")}if((/define\(.*?\{/).test(a)){a=a.replace(/define\(.*?\{/,"");a=a.replace(/\}\);\s*?$/,"");if(!a.match(/Modernizr\.add(Async)?Test\(/)){a=a.replace(/return.*[^return]*$/,"")}}else{if((/require\([^\{]*?\{/).test(a)){a=a.replace(/require[^\{]+\{/,"");a=a.replace(/\}\);\s*$/,"")}}a=a.replace(/return addTest;/,"");return a}};function build(a,c,b){return function d(h,e){var g={};var f;h=h||{};e=e||function i(){};_extend(g,baseRequireConfig);g.rawText={"modernizr-init":a(h)};if(h.minify){f=c("compact",h);g.optimize="uglify2";g.uglify2={mangle:{except:["Modernizr"]},beautify:{ascii_only:true}}}else{f=c("full",h);g.optimize="none"}g.out=function(j){j=f+j;j=j.replace(/(,\s*)?define\("modernizr-(init|build)",\s*function\(\)\{\};?\)/g,"");j=j.replace(/__VERSION__/g,b.version);if(h&&h.classPrefix){j=j.replace(/(classPrefix'?\s?:\s?)['""']{2}(,)/,'$1"'+h.classPrefix.replace(/"/g,'\\"')+'"$2')}e(j)};requirejs.optimize(g)}}if(inBrowser){var suppliedConfig=self._modernizrConfig;var metadataUrl="i/js/metadata.json";var packageUrl="i/js/modernizr-git/package.json";baseRequireConfig.baseUrl="/i/js/modernizr-git/src";baseRequireConfig.paths={text:"/i/js/requirejs-plugins/lib/text",lib:"/i/js/modernizr-git/lib",json:"/i/js/requirejs-plugins/src/json",lodash:"/i/js/lodash",test:"/i/js/modernizr-git/feature-detects"};if(suppliedConfig){metadataUrl=suppliedConfig.metadataUrl||metadataUrl;packageUrl=suppliedConfig.packageUrl||packageUrl;_extend(baseRequireConfig,suppliedConfig)}if(self._modernizrMetadata){requirejs.define("metadata",[],function(){return self._modernizrMetadata})}else{requirejs.define("metadata",["json!"+metadataUrl],function(a){return a})}requirejs.define("package",["json!"+packageUrl],function(a){return a})}else{var requirejs=require("requirejs");var metadata=require("./metadata")();var pkg=require("../package.json");requirejs.define("metadata",[],function(){return metadata});requirejs.define("package",function(){return pkg});baseRequireConfig.baseUrl=__dirname+"/../src";baseRequireConfig.paths={lodash:__dirname+"/../node_modules/lodash/lodash",test:__dirname+"/../feature-detects",lib:__dirname}}requirejs.config(baseRequireConfig);if(inBrowser){define("build",["generate","lib/generate-banner","package"],build)}else{var generateBanner=requirejs(__dirname+"/generate-banner.js");var generate=requirejs("generate");var pkg=requirejs("package");var _build=build;module.exports=function build(){return _build(generate,generateBanner,pkg).apply(undefined,arguments)}};