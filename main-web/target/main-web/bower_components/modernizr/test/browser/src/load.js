describe("load",function(){var d;var b;var a;var c;before(function(e){define("ModernizrProto",[],function(){return{}});var f=requirejs.config({context:Math.random().toString().slice(2),baseUrl:"../src",paths:{sinon:"../test/js/lib/sinon",cleanup:"../test/cleanup"}});f(["ModernizrProto","sinon","load","cleanup"],function(j,i,h,g){d=j;b=g;a=i;c=h;e()})});it("creates a reference on `ModernizrProto`",function(){expect(d.load).to.be.a("function")});if(window.console&&console.error){describe("errors",function(){it("reports that `load` has been removed",function(){var e=console.error;console.error=a.spy();d.load();expect(console.error.calledOnce).to.be(true);console.error=e});it("fallsback to log when `console.error` is not defined",function(){var f;var e;f=console.error;e=console.log;console.error=undefined;console.log=a.spy();d.load();expect(console.log.calledOnce).to.be(true);console.log=e;console.error=f})})}if(window.console&&console.log){describe("warnings",function(){var e;beforeEach(function(){e=a.spy();window.yepnope=e});it("reports that `load` has been removed, but still calls if yepnope is on the page",function(){var f=console.warn;console.warn=a.spy();d.load();expect(console.warn.calledOnce).to.be(true);expect(e.calledOnce).to.be(true);console.warn=f});it("fallsback to log when `console.warn` is not defined",function(){var g;var f;g=console.warn;f=console.log;console.warn=undefined;console.log=a.spy();d.load();expect(console.log.calledOnce).to.be(true);expect(e.calledOnce).to.be(true);console.log=f;console.warn=g});afterEach(function(){e=undefined;try{delete window.yepnope}catch(f){window.yepnope=undefined}})})}if(!window.console){describe("browsers without a console",function(){it("doesn't blow up when calling console.error",function(){expect(d.load).to.not.throwError()});it("doesn't blow up when calling console.warn",function(){var e=a.spy();window.yepnope=e;expect(d.load).to.not.throwError();expect(e.calledOnce).to.be(true)})})}after(function(){b()})});