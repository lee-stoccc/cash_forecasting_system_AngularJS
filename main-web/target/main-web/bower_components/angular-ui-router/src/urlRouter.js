$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"];function $UrlRouterProvider(g,f){var j=[],b=null,i=false,c;function d(k){var l=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(k.source);return(l!=null)?l[1].replace(/\\(.)/g,"$1"):""}function e(l,k){return l.replace(/\$(\$|\d{1,2})/,function(n,o){return k[o==="$"?0:Number(o)]})}this.rule=function(k){if(!isFunction(k)){throw new Error("'rule' must be a function")}j.push(k);return this};this.otherwise=function(k){if(isString(k)){var l=k;k=function(){return l}}else{if(!isFunction(k)){throw new Error("'rule' must be a function")}}b=k;return this};function a(n,m,l){if(!l){return false}var k=n.invoke(m,m,{$match:l});return isDefined(k)?k:true}this.when=function(o,l){var r,p=isString(l);if(isString(o)){o=f.compile(o)}if(!p&&!isFunction(l)&&!isArray(l)){throw new Error("invalid 'handler' in when()")}var m={matcher:function(s,n){if(p){r=f.compile(n);n=["$match",function(t){return r.format(t)}]}return extend(function(t,u){return a(t,n,s.exec(u.path(),u.search()))},{prefix:isString(s.prefix)?s.prefix:""})},regex:function(s,n){if(s.global||s.sticky){throw new Error("when() RegExp must not be global or sticky")}if(p){r=n;n=["$match",function(t){return e(r,t)}]}return extend(function(t,u){return a(t,n,s.exec(u.path()))},{prefix:d(s)})}};var k={matcher:f.isMatcher(o),regex:o instanceof RegExp};for(var q in k){if(k[q]){return this.rule(m[q](o,l))}}throw new Error("invalid 'what' in when()")};this.deferIntercept=function(k){if(k===undefined){k=true}i=k};this.$get=h;h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"];function h(q,r,t,u,l){var k=u.baseHref(),s=q.url(),n;function p(v,w,x){if(k==="/"){return v}if(w){return k.slice(0,-1)+v}if(x){return k.slice(1)+v}return v}function o(w){if(w&&w.defaultPrevented){return}var y=n&&q.url()===n;n=undefined;function v(B){var A=B(t,q);if(!A){return false}if(isString(A)){q.replace().url(A)}return true}var z=j.length,x;for(x=0;x<z;x++){if(v(j[x])){return}}if(b){v(b)}}function m(){c=c||r.$on("$locationChangeSuccess",o);return c}if(!i){m()}return{sync:function(){o()},listen:function(){return m()},update:function(v){if(v){s=q.url();return}if(q.url()===s){return}q.url(s);q.replace()},push:function(x,y,w){var v=x.format(y||{});if(v!==null&&y&&y["#"]){v+="#"+y["#"]}q.url(v);n=w&&w.$$avoidResync?q.url():undefined;if(w&&w.replace){q.replace()}},href:function(A,B,x){if(!A.validates(B)){return null}var z=g.html5Mode();if(angular.isObject(z)){z=z.enabled}z=z&&l.history;var w=A.format(B);x=x||{};if(!z&&w!==null){w="#"+g.hashPrefix()+w}if(w!==null&&B&&B["#"]){w+="#"+B["#"]}w=p(w,z,x.absolute);if(!x.absolute||!w){return w}var y=(!z&&w?"/":""),v=q.port();v=(v===80||v===443?"":":"+v);return[q.protocol(),"://",q.host(),v,y,w].join("")}}}}angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider);