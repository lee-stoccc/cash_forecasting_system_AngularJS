"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(aQ,aP,aO){function aN(d,c){return Y(new (Y(function(){},{prototype:d})),c)}function aM(b){return Z(arguments,function(a){a!==b&&Z(a,function(d,e){b.hasOwnProperty(e)||(b[e]=d)})}),b}function aL(f,e){var h=[];for(var g in f.path){if(f.path[g]!==e.path[g]){break}h.push(f.path[g])}return h}function aK(d){if(Object.keys){return Object.keys(d)}var c=[];return Z(d,function(b,e){c.push(e)}),c}function aJ(f,e){if(Array.prototype.indexOf){return f.indexOf(e,Number(arguments[2])||0)}var h=f.length>>>0,g=Number(arguments[2])||0;for(g=0>g?Math.ceil(g):Math.floor(g),0>g&&(g+=h);h>g;g++){if(g in f&&f[g]===e){return g}}return -1}function aI(t,s,r,q){var p,o=aL(r,q),n={},h=[];for(var g in o){if(o[g]&&o[g].params&&(p=aK(o[g].params),p.length)){for(var f in p){aJ(h,p[f])>=0||(h.push(p[f]),n[p[f]]=t[p[f]])}}}return Y({},n,s)}function aH(h,g,l){if(!l){l=[];for(var k in h){l.push(k)}}for(var j=0;j<l.length;j++){var i=l[j];if(h[i]!=g[i]){return !1}}return !0}function aG(e,d){var f={};return Z(e,function(b){f[b]=d[b]}),f}function aF(e){var d={},f=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Z(f,function(a){a in e&&(d[a]=e[a])}),d}function aE(f){var e={},h=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var g in f){-1==aJ(h,g)&&(e[g]=f[g])}return e}function aD(f,e){var h=aa(f),g=h?[]:{};return Z(f,function(b,c){e(b,c)&&(g[h?g.length:c]=b)}),g}function aC(e,d){var f=aa(e)?[]:{};return Z(e,function(b,c){f[c]=d(b,c)}),f}function aB(g,c){var p=1,o=2,n={},m=[],h=n,e=Y(g.when(n),{$$promises:n,$$values:n});this.study=function(a){function l(i,r){if(b[r]!==o){if(d.push(r),b[r]===p){throw d.splice(0,aJ(d,r)),new Error("Cyclic dependency: "+d.join(" -> "))}if(b[r]=p,ac(i)){f.push(r,[function(){return c.get(i)}],m)}else{var q=c.annotate(i);Z(q,function(s){s!==r&&a.hasOwnProperty(s)&&l(a[s],s)}),f.push(r,i,q)}d.pop(),b[r]=o}}function k(i){return ab(i)&&i.then&&i.$$promises}if(!ab(a)){throw new Error("'invocables' must be an object")}var j=aK(a||{}),f=[],d=[],b={};return Z(a,l),a=d=b=null,function(E,D,C){function B(){--I||(H||aM(J,D.$$values),q.$$values=J,q.$$promises=q.$$promises||!0,delete q.$$inheritedValues,y.resolve(J))}function A(i){q.$$failure=i,y.reject(i)}function z(w,v,u){function t(x){r.reject(x),A(x)}function s(){if(!ae(q.$$failure)){try{r.resolve(c.invoke(v,C,J)),r.promise.then(function(L){J[w]=L,B()},t)}catch(x){t(x)}}}var r=g.defer(),i=0;Z(u,function(x){K.hasOwnProperty(x)&&!E.hasOwnProperty(x)&&(i++,K[x].then(function(L){J[x]=L,--i||s()},t))}),i||s(),K[w]=r.promise}if(k(E)&&C===aO&&(C=D,D=E,E=null),E){if(!ab(E)){throw new Error("'locals' must be an object")}}else{E=h}if(D){if(!k(D)){throw new Error("'parent' must be a promise returned by $resolve.resolve()")}}else{D=e}var y=g.defer(),q=y.promise,K=q.$$promises={},J=Y({},E),I=1+f.length/3,H=!1;if(ae(D.$$failure)){return A(D.$$failure),q}D.$$inheritedValues&&aM(J,aE(D.$$inheritedValues,j)),Y(K,D.$$promises),D.$$values?(H=aM(J,aE(D.$$values,j)),q.$$inheritedValues=aE(D.$$values,j),B()):(D.$$inheritedValues&&(q.$$inheritedValues=aE(D.$$inheritedValues,j)),D.then(B,A));for(var G=0,F=f.length;F>G;G+=3){E.hasOwnProperty(f[G])?B():z(f[G],f[G+1],f[G+2])}return q}},this.resolve=function(i,f,k,j){return this.study(i)(f,k,j)}}function aA(e,d,f){this.fromConfig=function(h,g,i){return ae(h.template)?this.fromString(h.template,g):ae(h.templateUrl)?this.fromUrl(h.templateUrl,g):ae(h.templateProvider)?this.fromProvider(h.templateProvider,g,i):null},this.fromString=function(g,c){return ad(g)?g(c):g},this.fromUrl=function(b,a){return ad(b)&&(b=b(a)),null==b?null:e.get(b,{cache:d,headers:{Accept:"text/html"}}).then(function(c){return c.data})},this.fromProvider=function(g,c,h){return f.invoke(g,null,h||{params:c})}}function az(N,M,L){function K(a,h,g,f){if(z.push(a),B[a]){return B[a]}if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(a)){throw new Error("Invalid parameter name '"+a+"' in pattern '"+N+"'")}if(A[a]){throw new Error("Duplicate parameter name '"+a+"' in pattern '"+N+"'")}return A[a]=new V.Param(a,h,g,f),A[a]}function J(h,g,l,k){var j=["",""],i=h.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!g){return i}switch(l){case !1:j=["(",")"+(k?"?":"")];break;case !0:i=i.replace(/\/$/,""),j=["(?:/(",")|/)?"];break;default:j=["("+l+"|",")?"]}return i+j[0]+g+j[1]}function I(p,o){var n,m,l,b,a;return n=p[2]||p[3],a=M.params[n],l=N.substring(D,p.index),m=o?p[4]:p[4]||("*"==p[1]?".*":null),m&&(b=V.type(m)||aN(V.type("string"),{pattern:new RegExp(m,M.caseInsensitive?"i":aO)})),{id:n,regexp:m,segment:l,type:b,cfg:a}}M=Y({params:{}},ab(M)?M:{});var H,G=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,F=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,E="^",D=0,C=this.segments=[],B=L?L.params:{},A=this.params=L?L.params.$$new():new V.ParamSet,z=[];this.source=N;for(var y,x,w;(H=G.exec(N))&&(y=I(H,!1),!(y.segment.indexOf("?")>=0));){x=K(y.id,y.type,y.cfg,"path"),E+=J(y.segment,x.type.pattern.source,x.squash,x.isOptional),C.push(y.segment),D=G.lastIndex}w=N.substring(D);var d=w.indexOf("?");if(d>=0){var c=this.sourceSearch=w.substring(d);if(w=w.substring(0,d),this.sourcePath=N.substring(0,D+d),c.length>0){for(D=0;H=F.exec(c);){y=I(H,!0),x=K(y.id,y.type,y.cfg,"search"),D=G.lastIndex}}}else{this.sourcePath=N,this.sourceSearch=""}E+=J(w)+(M.strict===!1?"/?":"")+"$",C.push(w),this.regexp=new RegExp(E,M.caseInsensitive?"i":aO),this.prefix=C[0],this.$$paramNames=z}function ay(b){Y(this,b)}function ax(){function y(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function s(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function r(){return{strict:c,caseInsensitive:d}}function o(e){return ad(e)||aa(e)&&ad(e[e.length-1])}function n(){for(;z.length;){var e=z.shift();if(e.pattern){throw new Error("You cannot override a type's .pattern at runtime.")}aP.extend(B[e.name],g.invoke(e.def))}}function h(e){Y(this,e||{})}V=this;var g,d=!1,c=!0,b=!1,B={},A=!0,z=[],t={string:{encode:y,decode:s,is:function(e){return null==e||!ae(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:y,decode:function(e){return parseInt(e,10)},is:function(e){return ae(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):aO},decode:function(f){if(this.is(f)){return f}var e=this.capture.exec(f);return e?new Date(e[1],e[2]-1,e[3]):aO},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(f,e){return this.is(f)&&this.is(e)&&f.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:aP.toJson,decode:aP.fromJson,is:aP.isObject,equals:aP.equals,pattern:/[^\/]*/},any:{encode:aP.identity,decode:aP.identity,equals:aP.equals,pattern:/.*/}};ax.$$getDefaultValue=function(e){if(!o(e.value)){return e.value}if(!g){throw new Error("Injectable functions cannot be called at configuration time")}return g.invoke(e.value)},this.caseInsensitive=function(e){return ae(e)&&(d=e),d},this.strictMode=function(e){return ae(e)&&(c=e),c},this.defaultSquashPolicy=function(e){if(!ae(e)){return b}if(e!==!0&&e!==!1&&!ac(e)){throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string")}return b=e,e},this.compile=function(f,e){return new az(f,Y(r(),e))},this.isMatcher=function(f){if(!ab(f)){return !1}var e=!0;return Z(az.prototype,function(i,a){ad(i)&&(e=e&&ae(f[a])&&ad(f[a]))}),e},this.type=function(f,e,i){if(!ae(e)){return B[f]}if(B.hasOwnProperty(f)){throw new Error("A type named '"+f+"' has already been defined.")}return B[f]=new ay(Y({name:f},e)),i&&(z.push({name:f,def:i}),A||n()),this},Z(t,function(f,e){B[e]=new ay(Y({name:e},f))}),B=aN(B,{}),this.$get=["$injector",function(e){return g=e,A=!1,n(),Z(t,function(i,f){B[f]||(B[f]=new ay(i))}),this}],this.Param=function(L,H,G,F){function E(f){var e=ab(f)?aK(f):[],j=-1===aJ(e,"value")&&-1===aJ(e,"type")&&-1===aJ(e,"squash")&&-1===aJ(e,"array");return j&&(f={value:f}),f.$$fn=o(f.value)?f.value:function(){return f.value},f}function D(j,f,a){if(j.type&&f){throw new Error("Param '"+L+"' has two type configurations.")}return f?f:j.type?aP.isString(j.type)?B[j.type]:j.type instanceof ay?j.type:new ay(j.type):"config"===a?B.any:B.string}function C(){var a={array:"search"===F?"auto":!1},e=L.match(/\[\]$/)?{array:!0}:{};return Y(a,e,G).array}function q(f,e){var j=f.squash;if(!e||j===!1){return !1}if(!ae(j)||null==j){return b}if(j===!0||ac(j)){return j}throw new Error("Invalid squash policy: '"+j+"'. Valid policies: false, true, or arbitrary string")}function i(k,j,x,w){var v,p,m=[{from:"",to:x||j?aO:""},{from:null,to:x||j?aO:""}];return v=aa(k.replace)?k.replace:[],ac(w)&&v.push({from:w,to:aO}),p=aC(v,function(e){return e.from}),aD(m,function(e){return -1===aJ(p,e.from)}).concat(v)}function O(){if(!g){throw new Error("Injectable functions cannot be called at configuration time")}var e=g.invoke(G.$$fn);if(null!==e&&e!==aO&&!K.type.is(e)){throw new Error("Default value ("+e+") for parameter '"+K.id+"' is not an instance of Type ("+K.type.name+")")}return e}function N(f){function e(k){return function(a){return a.from===k}}function j(k){var m=aC(aD(K.replace,e(k)),function(p){return p.to});return m.length?m[0]:k}return f=j(f),ae(f)?K.type.$normalize(f):O()}function M(){return"{Param:"+L+" "+H+" squash: '"+u+"' optional: "+I+"}"}var K=this;G=E(G),H=D(G,H,F);var J=C();H=J?H.$asArray(J,"search"===F):H,"string"!==H.name||J||"path"!==F||G.value!==aO||(G.value="");var I=G.value!==aO,u=q(G,I),l=i(G,J,I,u);Y(this,{id:L,type:H,location:F,array:J,squash:u,replace:l,isOptional:I,value:N,dynamic:aO,config:G,toString:M})},h.prototype={$$new:function(){return aN(this,Y(new h,{$$parent:this}))},$$keys:function(){for(var f=[],e=[],j=this,i=aK(h.prototype);j;){e.push(j),j=j.$$parent}return e.reverse(),Z(e,function(a){Z(aK(a),function(k){-1===aJ(f,k)&&-1===aJ(i,k)&&f.push(k)})}),f},$$values:function(f){var e={},i=this;return Z(i.$$keys(),function(a){e[a]=i[a].value(f&&f[a])}),e},$$equals:function(f,e){var j=!0,i=this;return Z(i.$$keys(),function(l){var k=f&&f[l],a=e&&e[l];i[l].type.equals(k,a)||(j=!1)}),j},$$validates:function(j){var u,q,p,m,l,k=this.$$keys();for(u=0;u<k.length&&(q=this[k[u]],p=j[k[u]],p!==aO&&null!==p||!q.isOptional);u++){if(m=q.type.$normalize(p),!q.type.is(m)){return !1}if(l=q.type.encode(m),aP.isString(l)&&!q.type.pattern.exec(l)){return !1}}return !0},$$parent:aO},this.ParamSet=h}function aw(t,s){function r(e){var d=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=d?d[1].replace(/\\(.)/g,"$1"):""}function q(e,d){return e.replace(/\$(\$|\d{1,2})/,function(f,g){return d["$"===g?0:Number(g)]})}function p(f,e,h){if(!h){return !1}var g=f.invoke(e,e,{$match:h});return ae(g)?g:!0}function o(z,y,x,w,v){function u(e,d,f){return"/"===i?e:d?i.slice(0,-1)+e:f?i.slice(1)+e:e}function l(f){function d(g){var e=g(x,z);return e?(ac(e)&&z.replace().url(e),!0):!1}if(!f||!f.defaultPrevented){j&&z.url()===j;j=aO;var A,h=m.length;for(A=0;h>A;A++){if(d(m[A])){return}}c&&d(c)}}function k(){return n=n||y.$on("$locationChangeSuccess",l)}var j,i=w.baseHref(),a=z.url();return b||k(),{sync:function(){l()},listen:function(){return k()},update:function(d){return d?void (a=z.url()):void (z.url()!==a&&(z.url(a),z.replace()))},push:function(g,d,A){var h=g.format(d||{});null!==h&&d&&d["#"]&&(h+="#"+d["#"]),z.url(h),j=A&&A.$$avoidResync?z.url():aO,A&&A.replace&&z.replace()},href:function(E,D,C){if(!E.validates(D)){return null}var B=t.html5Mode();aP.isObject(B)&&(B=B.enabled),B=B&&v.history;var A=E.format(D);if(C=C||{},B||null===A||(A="#"+t.hashPrefix()+A),null!==A&&D&&D["#"]&&(A+="#"+D["#"]),A=u(A,B,C.absolute),!C.absolute||!A){return A}var h=!B&&A?"/":"",d=z.port();return d=80===d||443===d?"":":"+d,[z.protocol(),"://",z.host(),d,h,A].join("")}}}var n,m=[],c=null,b=!1;this.rule=function(d){if(!ad(d)){throw new Error("'rule' must be a function")}return m.push(d),this},this.otherwise=function(e){if(ac(e)){var d=e;e=function(){return d}}else{if(!ad(e)){throw new Error("'rule' must be a function")}}return c=e,this},this.when=function(e,d){var v,u=ac(d);if(ac(e)&&(e=s.compile(e)),!u&&!ad(d)&&!aa(d)){throw new Error("invalid 'handler' in when()")}var l={matcher:function(i,h){return u&&(v=s.compile(h),h=["$match",function(j){return v.format(j)}]),Y(function(j,a){return p(j,h,i.exec(a.path(),a.search()))},{prefix:ac(i.prefix)?i.prefix:""})},regex:function(i,h){if(i.global||i.sticky){throw new Error("when() RegExp must not be global or sticky")}return u&&(v=h,h=["$match",function(j){return q(v,j)}]),Y(function(j,a){return p(j,h,i.exec(a.path()))},{prefix:r(i)})}},g={matcher:s.isMatcher(e),regex:e instanceof RegExp};for(var f in g){if(g[f]){return this.rule(l[f](e,d))}}throw new Error("invalid 'what' in when()")},this.deferIntercept=function(d){d===aO&&(d=!0),b=d},this.$get=o,o.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function av(L,K){function J(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function I(v,u){if(!v){return aO}var t=ac(v),s=t?v:v.name,r=J(s);if(r){if(!u){throw new Error("No reference point given for path '"+s+"'")}u=I(u);for(var q=s.split("."),p=0,n=q.length,m=u;n>p;p++){if(""!==q[p]||0!==p){if("^"!==q[p]){break}if(!m.parent){throw new Error("Path '"+s+"' not valid for state '"+u.name+"'")}m=m.parent}else{m=u}}q=q.slice(p).join("."),s=m.name+(m.name&&q?".":"")+q}var f=b[s];return !f||!t&&(t||f!==v&&f.self!==v)?aO:f}function H(f,e){F[f]||(F[f]=[]),F[f].push(e)}function G(f){for(var e=F[f]||[];e.length;){E(e.shift())}}function E(a){a=aN(a,{self:a,resolve:a.resolve||{},toString:function(){return this.name}});var p=a.name;if(!ac(p)||p.indexOf("@")>=0){throw new Error("State must have a valid name")}if(b.hasOwnProperty(p)){throw new Error("State '"+p+"' is already defined")}var n=-1!==p.indexOf(".")?p.substring(0,p.lastIndexOf(".")):ac(a.parent)?a.parent:ab(a.parent)&&ac(a.parent.name)?a.parent.name:"";if(n&&!b[n]){return H(n,a.self)}for(var m in l){ad(l[m])&&(a[m]=l[m](a,l.$delegates[m]))}return b[p]=a,!a[D]&&a.url&&L.when(a.url,["$match","$stateParams",function(e,f){c.$current.navigable==a&&aH(e,f)||c.transitionTo(a,e,{inherit:!0,location:!1})}]),G(p),a}function o(e){return e.indexOf("*")>-1}function k(m){for(var f=m.split("."),q=c.$current.name.split("."),p=0,n=f.length;n>p;p++){"*"===f[p]&&(q[p]="*")}return"**"===f[0]&&(q=q.slice(aJ(q,f[1])),q.unshift("**")),"**"===f[f.length-1]&&(q.splice(aJ(q,f[f.length-2])+1,Number.MAX_VALUE),q.push("**")),f.length!=q.length?!1:q.join("")===f.join("")}function j(f,e){return ac(f)&&!ae(e)?l[f]:ad(e)&&ac(f)?(l[f]&&!l.$delegates[f]&&(l.$delegates[f]=l[f]),l[f]=e,this):this}function i(f,e){return ab(f)?e=f:e.name=f,E(e),this}function h(O,N,M,B,z,y,w,s,R){function Q(a,t,q,p){var n=O.$broadcast("$stateNotFound",a,t,q);if(n.defaultPrevented){return w.update(),m}if(!n.retry){return null}if(p.$retry){return w.update(),S}var e=c.transition=N.when(n.retry);return e.then(function(){return e!==c.transition?x:(a.options.$retry=!0,c.transitionTo(a.to,a.toParams,a.options))},function(){return m}),w.update(),e}function P(U,T,C,A,v,u){function t(){var a=[];return Z(U.views,function(aR,p){var n=aR.resolve&&aR.resolve!==U.resolve?aR.resolve:{};n.$template=[function(){return M.load(p,{view:aR,locals:v.globals,params:q,notify:u.notify})||""}],a.push(z.resolve(n,v.globals,v.resolve,U).then(function(aT){if(ad(aR.controllerProvider)||aa(aR.controllerProvider)){var aS=aP.extend({},n,v.globals);aT.$$controller=B.invoke(aR.controllerProvider,null,aS)}else{aT.$$controller=aR.controller}aT.$$state=U,aT.$$controllerAs=aR.controllerAs,aT.$$resolveAs=aR.resolveAs,v[p]=aT}))}),N.all(a).then(function(){return v.globals})}var q=C?T:aG(U.params.$$keys(),T),f={$stateParams:q};v.resolve=z.resolve(U.resolve,f,v.resolve,U);var e=[v.resolve.then(function(n){v.globals=n})];return A&&e.push(A),N.all(e).then(t).then(function(n){return v})}var x=N.reject(new Error("transition superseded")),r=N.reject(new Error("transition prevented")),m=N.reject(new Error("transition aborted")),S=N.reject(new Error("transition failed"));return d.locals={resolve:null,globals:{$stateParams:{}}},c={params:{},current:d.self,$current:d,transition:null},c.reload=function(e){return c.transitionTo(c.current,y,{reload:e||!0,inherit:!1,notify:!0})},c.go=function(f,e,n){return c.transitionTo(f,e,Y({inherit:!0,relative:c.$current},n))},c.transitionTo=function(a0,aZ,aY){aZ=aZ||{},aY=Y({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},aY||{});var aX,aW=c.$current,aV=c.params,aU=aW.path,aT=I(a0,aY.relative),aS=aZ["#"];if(!ae(aT)){var U={to:a0,toParams:aZ,options:aY},T=Q(U,aW.self,aV,aY);if(T){return T}if(a0=U.to,aZ=U.toParams,aY=U.options,aT=I(a0,aY.relative),!ae(aT)){if(!aY.relative){throw new Error("No such state '"+a0+"'")}throw new Error("Could not resolve '"+a0+"' from state '"+aY.relative+"'")}}if(aT[D]){throw new Error("Cannot transition to abstract state '"+a0+"'")}if(aY.inherit&&(aZ=aI(y,aZ||{},c.$current,aT)),!aT.params.$$validates(aZ)){return S}aZ=aT.params.$$values(aZ),a0=aT;var n=a0.path,aR=0,C=n[aR],A=d.locals,v=[];if(aY.reload){if(ac(aY.reload)||ab(aY.reload)){if(ab(aY.reload)&&!aY.reload.name){throw new Error("Invalid reload state object")}var u=aY.reload===!0?aU[0]:I(aY.reload);if(aY.reload&&!u){throw new Error("No such reload state '"+(ac(aY.reload)?aY.reload:aY.reload.name)+"'")}for(;C&&C===aU[aR]&&C!==u;){A=v[aR]=C.locals,aR++,C=n[aR]}}}else{for(;C&&C===aU[aR]&&C.ownParams.$$equals(aZ,aV);){A=v[aR]=C.locals,aR++,C=n[aR]}}if(g(a0,aZ,aW,aV,A,aY)){return aS&&(aZ["#"]=aS),c.params=aZ,X(c.params,y),X(aG(a0.params.$$keys(),y),a0.locals.globals.$stateParams),aY.location&&a0.navigable&&a0.navigable.url&&(w.push(a0.navigable.url,aZ,{$$avoidResync:!0,replace:"replace"===aY.location}),w.update(!0)),c.transition=null,N.when(c.current)}if(aZ=aG(a0.params.$$keys(),aZ||{}),aS&&(aZ["#"]=aS),aY.notify&&O.$broadcast("$stateChangeStart",a0.self,aZ,aW.self,aV,aY).defaultPrevented){return O.$broadcast("$stateChangeCancel",a0.self,aZ,aW.self,aV),null==c.transition&&w.update(),r}for(var p=N.when(A),e=aR;e<n.length;e++,C=n[e]){A=v[e]=aN(A),p=P(C,aZ,C===a0,p,A,aY)}var a=c.transition=p.then(function(){var t,q,f;if(c.transition!==a){return x}for(t=aU.length-1;t>=aR;t--){f=aU[t],f.self.onExit&&B.invoke(f.self.onExit,f.self,f.locals.globals),f.locals=null}for(t=aR;t<n.length;t++){q=n[t],q.locals=v[t],q.self.onEnter&&B.invoke(q.self.onEnter,q.self,q.locals.globals)}return c.transition!==a?x:(c.$current=a0,c.current=a0.self,c.params=aZ,X(c.params,y),c.transition=null,aY.location&&a0.navigable&&w.push(a0.navigable.url,a0.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===aY.location}),aY.notify&&O.$broadcast("$stateChangeSuccess",a0.self,aZ,aW.self,aV),w.update(!0),c.current)}).then(null,function(f){return c.transition!==a?x:(c.transition=null,aX=O.$broadcast("$stateChangeError",a0.self,aZ,aW.self,aV,f),aX.defaultPrevented||w.update(),N.reject(f))});return a},c.is=function(n,f,q){q=Y({relative:c.$current},q||{});var p=I(n,q.relative);return ae(p)?c.$current!==p?!1:f?aH(p.params.$$values(f),y):!0:aO},c.includes=function(n,f,q){if(q=Y({relative:c.$current},q||{}),ac(n)&&o(n)){if(!k(n)){return !1}n=c.$current.name}var p=I(n,q.relative);return ae(p)?ae(c.$current.includes[p.name])?f?aH(p.params.$$values(f),y,aK(f)):!0:!1:aO},c.href=function(p,n,u){u=Y({lossy:!0,inherit:!0,absolute:!1,relative:c.$current},u||{});var t=I(p,u.relative);if(!ae(t)){return null}u.inherit&&(n=aI(y,n||{},c.$current,t));var q=t&&u.lossy?t.navigable:t;return q&&q.url!==aO&&null!==q.url?w.href(q.url,aG(t.params.$$keys().concat("#"),n||{}),{absolute:u.absolute}):null},c.get=function(f,e){if(0===arguments.length){return aC(aK(b),function(p){return b[p].self})}var n=I(f,e||c.$current);return n&&n.self?n.self:null},c}function g(n,m,t,s,r,q){function p(v,u,A){function z(a){return"search"!=v.params[a].location}var y=v.params.$$keys().filter(z),x=aF.apply({},[v.params].concat(y)),w=new V.ParamSet(x);return w.$$equals(u,A)}return !q.reload&&n===t&&(r===t.locals||n.self.reloadOnSearch===!1&&p(t,s,m))?!0:void 0}var d,c,b={},F={},D="abstract",l={parent:function(f){if(ae(f.parent)&&f.parent){return I(f.parent)}var e=/^(.+)\.[^.]+$/.exec(f.name);return e?I(e[1]):d},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=aN(e.parent.data,e.data)),e.data},url:function(f){var e=f.url,m={params:f.params||{}};if(ac(e)){return"^"==e.charAt(0)?K.compile(e.substring(1),m):(f.parent.navigable||d).url.concat(e,m)}if(!e||K.isMatcher(e)){return e}throw new Error("Invalid url '"+e+"' in state '"+f+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(f){var e=f.url&&f.url.params||new V.ParamSet;return Z(f.params||{},function(m,n){e[n]||(e[n]=new V.Param(n,null,m,"config"))}),e},params:function(f){var e=aF(f.ownParams,f.ownParams.$$keys());return f.parent&&f.parent.params?Y(f.parent.params.$$new(),e):new V.ParamSet},views:function(f){var e={};return Z(ae(f.views)?f.views:{"":f},function(m,a){a.indexOf("@")<0&&(a+="@"+f.parent.name),m.resolveAs=m.resolveAs||f.resolveAs||"$resolve",e[a]=m}),e},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(f){var e=f.parent?Y({},f.parent.includes):{};return e[f.name]=!0,e},$delegates:{}};d=E({name:"",url:"^",views:null,"abstract":!0}),d.navigable=null,this.decorator=j,this.state=i,this.$get=h,h.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function au(){function b(d,c){return{load:function(f,i){var h,g={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=Y(g,i),i.view&&(h=c.fromConfig(i.view,i.params,i.locals)),h}}}this.$get=b,b.$inject=["$rootScope","$templateFactory"]}function at(){var b=!1;this.useAnchorScroll=function(){b=!0},this.$get=["$anchorScroll","$timeout",function(a,d){return b?a:function(c){return d(function(){c[0].scrollIntoView()},0,!1)}}]}function ar(v,u,t,s,r){function q(){return u.has?function(c){return u.has(c)?u.get(c):null}:function(d){try{return u.get(d)}catch(c){return null}}}function p(f,i){var h=function(){return{enter:function(e,d,j){d.after(e),j()},leave:function(d,c){d.remove(),c()}}};if(m){return{enter:function(e,k,j){aP.version.minor>2?m.enter(e,null,k).then(j):m.enter(e,null,k,j)},leave:function(d,e){aP.version.minor>2?m.leave(d).then(e):m.leave(d,e)}}}if(n){var g=n&&n(i,f);return{enter:function(e,d,j){g.enter(e,null,d),j()},leave:function(d,c){g.leave(d),c()}}}return h()}var o=q(),n=o("$animator"),m=o("$animate"),b={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,d,a){return function(D,C,B){function A(){if(y&&(y.remove(),y=null),w&&(w.$destroy(),w=null),x){var c=x.data("$uiViewAnim");E.leave(x,function(){c.$$animLeave.resolve(),y=null}),y=x,x=null}}function z(F){var g,c=ap(D,B,C,s),k=c&&v.$current&&v.$current.locals[c];if(F||k!==i){g=D.$new(),i=v.$current.locals[c],g.$emit("$viewContentLoading",c);var j=a(g,function(l){var I=r.defer(),H=r.defer(),G={$animEnter:I.promise,$animLeave:H.promise,$$animLeave:H};l.data("$uiViewAnim",G),E.enter(l,C,function(){I.resolve(),w&&w.$emit("$viewContentAnimationEnded"),(aP.isDefined(f)&&!f||D.$eval(f))&&t(l)}),A()});x=j,w=g,w.$emit("$viewContentLoaded",c),w.$eval(h)}}var y,x,w,i,h=B.onload||"",f=B.autoscroll,E=p(B,D);C.inheritedData("$uiView");D.$on("$stateChangeSuccess",function(){z(!1)}),z(!0)}}};return b}function aq(b,h,g,f){return{restrict:"ECA",priority:-400,compile:function(c){var a=c.html();return function(v,u,t){var s=g.$current,r=ap(v,t,u,f),q=s&&s.locals[r];if(q){u.data("$uiView",{name:r,state:q.$$state}),u.html(q.$template?q.$template:a);var p=aP.extend({},q);v[q.$$resolveAs]=p;var e=b(u.contents());if(q.$$controller){q.$scope=v,q.$element=u;var d=h(q.$$controller,q);q.$$controllerAs&&(v[q.$$controllerAs]=d,v[q.$$controllerAs][q.$$resolveAs]=p),ad(d.$onInit)&&d.$onInit(),u.data("$ngControllerController",d),u.children().data("$ngControllerController",d)}e(v)}}}}}function ap(h,g,l,k){var j=k(g.uiView||g.name||"")(h),i=l.inheritedData("$uiView");return j.indexOf("@")>=0?j:j+"@"+(i?i.state.name:"")}function ao(f,e){var h,g=f.match(/^\s*({[^}]*})\s*$/);if(g&&(f=e+"("+g[1]+")"),h=f.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!h||4!==h.length){throw new Error("Invalid state ref '"+f+"'")}return{state:h[1],paramExpr:h[3]||null}}function an(d){var c=d.parent().inheritedData("$uiView");return c&&c.state&&c.state.name?c.state:void 0}function am(e){var d="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),f="FORM"===e[0].nodeName;return{attr:f?"action":d?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!f}}function al(g,f,j,i,h){return function(e){var d=e.which||e.button,c=h();if(!(d>1||e.ctrlKey||e.metaKey||e.shiftKey||g.attr("target"))){var b=j(function(){f.go(c.state,c.params,c.options)});e.preventDefault();var a=i.isAnchor&&!c.href?1:0;e.preventDefault=function(){a--<=0&&j.cancel(b)}}}}function ak(d,c){return{relative:an(d)||c.$current,inherit:!0}}function aj(b,d){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(w,v,u,t){var s,r=ao(u.uiSref,b.current.name),q={state:r.state,href:null,params:null},p=am(v),o=t[1]||t[0],c=null;q.options=Y(ak(v,b),u.uiSrefOpts?w.$eval(u.uiSrefOpts):{});var a=function(e){e&&(q.params=aP.copy(e)),q.href=b.href(r.state,q.params,q.options),c&&c(),o&&(c=o.$$addStateInfo(r.state,q.params)),null!==q.href&&u.$set(p.attr,q.href)};r.paramExpr&&(w.$watch(r.paramExpr,function(e){e!==q.params&&a(e)},!0),q.params=aP.copy(w.$eval(r.paramExpr))),a(),p.clickable&&(s=al(v,b,d,p,function(){return q}),v.bind("click",s),w.$on("$destroy",function(){v.unbind("click",s)}))}}}function ai(d,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(x,w,v,u){function t(e){b.state=e[0],b.params=e[1],b.options=e[2],b.href=d.href(b.state,b.params,b.options),a&&a(),q&&(a=q.$$addStateInfo(b.state,b.params)),b.href&&v.$set(r.attr,b.href)}var s,r=am(w),q=u[1]||u[0],p=[v.uiState,v.uiStateParams||null,v.uiStateOpts||null],o="["+p.map(function(e){return e||"null"}).join(", ")+"]",b={state:null,params:null,options:null,href:null},a=null;x.$watch(o,t,!0),t(x.$eval(o)),r.clickable&&(s=al(w,d,c,r,function(){return b}),w.bind("click",s),x.$on("$destroy",function(){w.unbind("click",s)}))}}}function ah(e,d,f){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(F,E,D,C){function B(h,n,m){var l=e.get(h,an(E)),k=A(h,n),j={state:l||{name:h},params:n,hash:k};return s.push(j),c[k]=m,function(){var b=s.indexOf(j);-1!==b&&s.splice(b,1)}}function A(b,g){if(!ac(b)){throw new Error("state should be a string")}return ab(g)?b+W(g):(g=F.$eval(g),ab(g)?b+W(g):b)}function z(){for(var b=0;b<s.length;b++){w(s[b].state,s[b].params)?y(E,c[s[b].hash]):x(E,c[s[b].hash]),v(s[b].state,s[b].params)?y(E,u):x(E,u)}}function y(h,g){C(function(){h.addClass(g)})}function x(h,g){h.removeClass(g)}function w(g,h){return e.includes(g.name,h)}function v(g,h){return e.is(g.name,h)}var u,t,s=[],c={};u=f(D.uiSrefActiveEq||"",!1)(F);try{t=F.$eval(D.uiSrefActive)}catch(a){}t=t||f(D.uiSrefActive||"",!1)(F),ab(t)&&Z(t,function(h,g){if(ac(h)){var b=ao(h,e.current.name);B(b.state,F.$eval(b.paramExpr),g)}}),this.$$addStateInfo=function(h,g){if(!(ab(t)&&s.length>0)){var i=B(h,g,t);return z(),i}},F.$on("$stateChangeSuccess",z),z()}]}}function ag(d){var c=function(a,e){return d.is(a,e)};return c.$stateful=!0,c}function af(d){var c=function(a,f,e){return d.includes(a,f,e)};return c.$stateful=!0,c}var ae=aP.isDefined,ad=aP.isFunction,ac=aP.isString,ab=aP.isObject,aa=aP.isArray,Z=aP.forEach,Y=aP.extend,X=aP.copy,W=aP.toJson;aP.module("ui.router.util",["ng"]),aP.module("ui.router.router",["ui.router.util"]),aP.module("ui.router.state",["ui.router.router","ui.router.util"]),aP.module("ui.router",["ui.router.state"]),aP.module("ui.router.compat",["ui.router"]),aB.$inject=["$q","$injector"],aP.module("ui.router.util").service("$resolve",aB),aA.$inject=["$http","$templateCache","$injector"],aP.module("ui.router.util").service("$templateFactory",aA);var V;az.prototype.concat=function(e,d){var f={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new az(this.sourcePath+e+this.sourceSearch,Y(f,d),this)},az.prototype.toString=function(){return this.source},az.prototype.exec=function(z,y){function x(g){function f(b){return b.split("").reverse().join("")}function j(b){return b.replace(/\\-/g,"-")}var i=f(g).split(/-(?!\\)/),h=aC(i,f);return aC(h,j).reverse()}var w=this.regexp.exec(z);if(!w){return null}y=y||{};var v,u,t,s=this.parameters(),r=s.length,q=this.segments.length-1,p={};if(q!==w.length-1){throw new Error("Unbalanced capture group in route '"+this.source+"'")}var o,n;for(v=0;q>v;v++){for(t=s[v],o=this.params[t],n=w[v+1],u=0;u<o.replace.length;u++){o.replace[u].from===n&&(n=o.replace[u].to)}n&&o.array===!0&&(n=x(n)),ae(n)&&(n=o.type.decode(n)),p[t]=o.value(n)}for(;r>v;v++){for(t=s[v],p[t]=this.params[t].value(y[t]),o=this.params[t],n=y[t],u=0;u<o.replace.length;u++){o.replace[u].from===n&&(n=o.replace[u].to)}ae(n)&&(n=o.type.decode(n)),p[t]=o.value(n)}return p},az.prototype.parameters=function(b){return ae(b)?this.params[b]||null:this.$$paramNames},az.prototype.validates=function(b){return this.params.$$validates(b)},az.prototype.format=function(N){function M(b){return encodeURIComponent(b).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}N=N||{};var L=this.segments,K=this.parameters(),J=this.params;if(!this.validates(N)){return null}var I,H=!1,G=L.length-1,F=K.length,E=L[0];for(I=0;F>I;I++){var D=G>I,C=K[I],B=J[C],A=B.value(N[C]),z=B.isOptional&&B.type.equals(B.value(),A),y=z?B.squash:!1,x=B.type.encode(A);if(D){var w=L[I+1],v=I+1===G;if(y===!1){null!=x&&(E+=aa(x)?aC(x,M).join("-"):encodeURIComponent(x)),E+=w}else{if(y===!0){var o=E.match(/\/$/)?/\/?(.*)/:/(.*)/;E+=w.match(o)[1]}else{ac(y)&&(E+=y+w)}}v&&B.squash===!0&&"/"===E.slice(-1)&&(E=E.slice(0,-1))}else{if(null==x||z&&y!==!1){continue}if(aa(x)||(x=[x]),0===x.length){continue}x=aC(x,encodeURIComponent).join("&"+C+"="),E+=(H?"&":"?")+(C+"="+x),H=!0}}return E},ay.prototype.is=function(d,c){return !0},ay.prototype.encode=function(d,c){return d},ay.prototype.decode=function(d,c){return d},ay.prototype.equals=function(d,c){return d==c},ay.prototype.$subPattern=function(){var b=this.pattern.toString();return b.substr(1,b.length-2)},ay.prototype.pattern=/.*/,ay.prototype.toString=function(){return"{Type:"+this.name+"}"},ay.prototype.$normalize=function(b){return this.is(b)?b:this.decode(b)},ay.prototype.$asArray=function(e,c){function f(k,j){function q(g,d){return function(){return g[d].apply(g,arguments)}}function p(b){return aa(b)?b:ae(b)?[b]:[]}function o(b){switch(b.length){case 0:return aO;case 1:return"auto"===j?b[0]:b;default:return b}}function n(b){return !b}function m(g,d){return function(b){if(aa(b)&&0===b.length){return b}b=p(b);var a=aC(b,g);return d===!0?0===aD(a,n).length:o(a)}}function l(b){return function(a,s){var r=p(a),i=p(s);if(r.length!==i.length){return !1}for(var h=0;h<r.length;h++){if(!b(r[h],i[h])){return !1}}return !0}}this.encode=m(q(k,"encode")),this.decode=m(q(k,"decode")),this.is=m(q(k,"is"),!0),this.equals=l(q(k,"equals")),this.pattern=k.pattern,this.$normalize=m(q(k,"$normalize")),this.name=k.name,this.$arrayMode=j}if(!e){return this}if("auto"===e&&!c){throw new Error("'auto' array mode is for query parameters only")}return new f(this,e)},aP.module("ui.router.util").provider("$urlMatcherFactory",ax),aP.module("ui.router.util").run(["$urlMatcherFactory",function(b){}]),aw.$inject=["$locationProvider","$urlMatcherFactoryProvider"],aP.module("ui.router.router").provider("$urlRouter",aw),av.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],aP.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",av).run(["$injector",function(b){b.get("$state.runtime").autoinject&&b.get("$state")}]),au.$inject=[],aP.module("ui.router.state").provider("$view",au),aP.module("ui.router.state").provider("$uiViewScroll",at),ar.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],aq.$inject=["$compile","$controller","$state","$interpolate"],aP.module("ui.router.state").directive("uiView",ar),aP.module("ui.router.state").directive("uiView",aq),aj.$inject=["$state","$timeout"],ai.$inject=["$state","$timeout"],ah.$inject=["$state","$stateParams","$interpolate"],aP.module("ui.router.state").directive("uiSref",aj).directive("uiSrefActive",ah).directive("uiSrefActiveEq",ah).directive("uiState",ai),ag.$inject=["$state"],af.$inject=["$state"],aP.module("ui.router.state").filter("isState",ag).filter("includedByState",af)}(window,window.angular);