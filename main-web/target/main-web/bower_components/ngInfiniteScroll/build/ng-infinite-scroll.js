angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,d,c,b){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(f,x,t){var w,u,y,o,m,j,i,z,g,r,q,v,h,n,p,l,s,e,k;k=angular.element(d);n=null;p=null;y=null;o=null;q=true;e=false;s=null;u=false;r=function(A){A=A[0]||A;if(isNaN(A.offsetHeight)){return A.document.documentElement.clientHeight}else{return A.offsetHeight}};v=function(A){if(!A[0].getBoundingClientRect||A.css("none")){return}return A[0].getBoundingClientRect().top+h(A)};h=function(A){A=A[0]||A;if(isNaN(window.pageYOffset)){return A.document.documentElement.scrollTop}else{return A.ownerDocument.defaultView.pageYOffset}};g=function(){var E,A,D,C,B;if(o===k){E=r(o)+h(o[0].document.documentElement);D=v(x)+r(x)}else{E=r(o);A=0;if(v(o)!==void 0){A=v(o)}D=v(x)-A+r(x)}if(e){D=r((x[0].ownerDocument||x[0].document).documentElement)}C=D-E;B=C<=r(o)*n+1;if(B){y=true;if(p){if(f.$$phase||a.$$phase){return f.infiniteScroll()}else{return f.$apply(f.infiniteScroll)}}}else{if(u){c.cancel(u)}return y=false}};l=function(C,E){var A,B,D;D=null;B=0;A=function(){B=new Date().getTime();c.cancel(D);D=null;return C.call()};return function(){var F,G;F=new Date().getTime();G=E-(F-B);if(G<=0){c.cancel(D);D=null;B=F;return C.call()}else{if(!D){return D=c(A,G,1)}}}};if(b!=null){g=l(g,b)}f.$on("$destroy",function(){o.unbind("scroll",g);if(s!=null){s();s=null}if(u){return c.cancel(u)}});i=function(A){return n=parseFloat(A)||0};f.$watch("infiniteScrollDistance",i);i(f.infiniteScrollDistance);j=function(A){p=!A;if(p&&y){y=false;return g()}};f.$watch("infiniteScrollDisabled",j);j(f.infiniteScrollDisabled);z=function(A){return e=A};f.$watch("infiniteScrollUseDocumentBottom",z);z(f.infiniteScrollUseDocumentBottom);w=function(A){if(o!=null){o.unbind("scroll",g)}o=A;if(A!=null){return o.bind("scroll",g)}};w(k);if(f.infiniteScrollListenForEvent){s=a.$on(f.infiniteScrollListenForEvent,g)}m=function(A){if((A==null)||A.length===0){return}if(A.nodeType&&A.nodeType===1){A=angular.element(A)}else{if(typeof A.append==="function"){A=angular.element(A[A.length-1])}else{if(typeof A==="string"){A=angular.element(document.querySelector(A))}}}if(A!=null){return w(A)}else{throw new Error("invalid infinite-scroll-container attribute.")}};f.$watch("infiniteScrollContainer",m);m(f.infiniteScrollContainer||[]);if(t.infiniteScrollParent!=null){w(angular.element(x.parent()))}if(t.infiniteScrollImmediateCheck!=null){q=f.$eval(t.infiniteScrollImmediateCheck)}return u=c((function(){if(q){g()}return c.cancel(u)}))}}}]);if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="infinite-scroll"};