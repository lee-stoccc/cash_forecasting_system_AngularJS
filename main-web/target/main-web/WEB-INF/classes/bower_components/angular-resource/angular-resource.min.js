(function(b,e){function a(d,h){h=h||{};e.forEach(h,function(j,g){delete h[g]});for(var i in d){!d.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(h[i]=d[i])}return h}var c=e.$$minErr("$resource"),f=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var d=/^https?:\/\/[^\/]*/,h=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(g,l,s,p){function j(u,q){return encodeURIComponent(u).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,q?"%20":"+")}function i(u,q){this.template=u;this.defaults=r({},h.defaults,q);this.urlParams={}}function o(y,x,A,v){function u(C,D){var B={};D=r({},x,D);t(D,function(K,H){n(K)&&(K=K(C));var J;if(K&&K.charAt&&"@"==K.charAt(0)){J=C;var F=K.substr(1);if(null==F||""===F||"hasOwnProperty"===F||!f.test("."+F)){throw c("badmember",F)}for(var F=F.split("."),E=0,G=F.length;E<G&&e.isDefined(J);E++){var I=F[E];J=null!==J?J[I]:void 0}}else{J=K}B[H]=J});return B}function z(B){return B.resource}function q(B){a(B||{},this)}var w=new i(y,v);A=r({},h.defaults.actions,A);q.prototype.toJSON=function(){var B=r({},this);delete B.$promise;delete B.$resolved;return B};t(A,function(B,G){var C=/^(POST|PUT|PATCH)$/i.test(B.method),F=B.timeout,D=e.isDefined(B.cancellable)?B.cancellable:v&&e.isDefined(v.cancellable)?v.cancellable:h.defaults.cancellable;F&&!e.isNumber(F)&&(l.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete B.timeout,F=null);q[G]=function(Q,N,O,P){var H={},M,S,I;switch(arguments.length){case 4:I=P,S=O;case 3:case 2:if(n(N)){if(n(Q)){S=Q;I=N;break}S=N;I=O}else{H=Q;M=N;S=O;break}case 1:n(Q)?S=Q:C?M=Q:H=Q;break;case 0:break;default:throw c("badargs",arguments.length)}var E=this instanceof q,K=E?M:B.isArray?[]:new q(M),U={},L=B.interceptor&&B.interceptor.response||z,J=B.interceptor&&B.interceptor.responseError||void 0,R,T;t(B,function(V,W){switch(W){default:U[W]=k(V);case"params":case"isArray":case"interceptor":case"cancellable":}});!E&&D&&(R=s.defer(),U.timeout=R.promise,F&&(T=p(R.resolve,F)));C&&(U.data=M);w.setUrlParams(U,r({},u(M,B.params||{}),H),B.url);H=g(U).then(function(X){var V=X.data;if(V){if(e.isArray(V)!==!!B.isArray){throw c("badcfg",G,B.isArray?"array":"object",e.isArray(V)?"array":"object",U.method,U.url)}if(B.isArray){K.length=0,t(V,function(Y){"object"===typeof Y?K.push(new q(Y)):K.push(Y)})}else{var W=K.$promise;a(V,K);K.$promise=W}}X.resource=K;return X},function(V){(I||m)(V);return s.reject(V)});H["finally"](function(){K.$resolved=!0;!E&&D&&(K.$cancelRequest=e.noop,p.cancel(T),R=T=U.timeout=null)});H=H.then(function(V){var W=L(V);(S||m)(W,V.headers);return W},J);return E?H:(K.$promise=H,K.$resolved=!1,D&&(K.$cancelRequest=R.resolve),K)};q.prototype["$"+G]=function(H,E,I){n(H)&&(I=E,E=H,H={});H=q[G].call(this,H,this,E,I);return H.$promise||H}});q.bind=function(B){return o(y,r({},x,B),A)};return q}var m=e.noop,t=e.forEach,r=e.extend,k=e.copy,n=e.isFunction;i.prototype={setUrlParams:function(A,y,v){var x=this,B=v||x.template,z,w,u="",C=x.urlParams={};t(B.split(/\W/),function(q){if("hasOwnProperty"===q){throw c("badname")}!/^\d+$/.test(q)&&q&&(new RegExp("(^|[^\\\\]):"+q+"(\\W|$)")).test(B)&&(C[q]={isQueryParamValue:(new RegExp("\\?.*=:"+q+"(?:\\W|$)")).test(B)})});B=B.replace(/\\:/g,":");B=B.replace(d,function(q){u=q;return""});y=y||{};t(x.urlParams,function(q,D){z=y.hasOwnProperty(D)?y[D]:x.defaults[D];e.isDefined(z)&&null!==z?(w=q.isQueryParamValue?j(z,!0):j(z,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),B=B.replace(new RegExp(":"+D+"(\\W|$)","g"),function(E,F){return w+F})):B=B.replace(new RegExp("(/?):"+D+"(\\W|$)","g"),function(F,G,E){return"/"==E.charAt(0)?E:G+E})});x.defaults.stripTrailingSlashes&&(B=B.replace(/\/+$/,"")||"/");B=B.replace(/\/\.(?=\w+($|\?))/,".");A.url=u+B.replace(/\/\\\./,"/.");t(y,function(D,q){x.urlParams[q]||(A.params=A.params||{},A.params[q]=D)})}};return o}]})})(window,window.angular);