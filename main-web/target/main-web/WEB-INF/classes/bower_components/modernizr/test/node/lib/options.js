var root=require("find-parent-dir").sync(__dirname,"package.json");var options=require(root+"lib/options");var expect=require("expect.js");var Joi=require("joi");var schema=Joi.array().items(Joi.object().keys({name:Joi.string(),property:Joi.string()}));describe("cli/options",function(){this.timeout(20000);it("should return an array of objects in a callback",function(a){options(function(c){var b=schema.validate(c).error;expect(b).to.be(null);a(b)})});it("should return the array of objects immediately after the first run",function(){var a=schema.validate(options()).error;expect(a).to.be(null)});it("should return all jsdoc info when the second arg is true",function(){expect(options(null,true)!==options(null)).to.be(true);expect(options(null,true)[0].description).to.not.be(undefined)})});