$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];function $StateProvider(i,s){var m,h={},r,n={},e="abstract";var k={parent:function(u){if(isDefined(u.parent)&&u.parent){return d(u.parent)}var t=/^(.+)\.[^.]+$/.exec(u.name);return t?d(t[1]):m},data:function(t){if(t.parent&&t.parent.data){t.data=t.self.data=inherit(t.parent.data,t.data)}return t.data},url:function(v){var u=v.url,t={params:v.params||{}};if(isString(u)){if(u.charAt(0)=="^"){return s.compile(u.substring(1),t)}return(v.parent.navigable||m).url.concat(u,t)}if(!u||s.isMatcher(u)){return u}throw new Error("Invalid url '"+u+"' in state '"+v+"'")},navigable:function(t){return t.url?t:(t.parent?t.parent.navigable:null)},ownParams:function(t){var u=t.url&&t.url.params||new $$UMFP.ParamSet();forEach(t.params||{},function(v,w){if(!u[w]){u[w]=new $$UMFP.Param(w,null,v,"config")}});return u},params:function(t){var u=pick(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?extend(t.parent.params.$$new(),u):new $$UMFP.ParamSet()},views:function(u){var t={};forEach(isDefined(u.views)?u.views:{"":u},function(v,w){if(w.indexOf("@")<0){w+="@"+u.parent.name}v.resolveAs=v.resolveAs||u.resolveAs||"$resolve";t[w]=v});return t},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(u){var t=u.parent?extend({},u.parent.includes):{};t[u.name]=true;return t},$delegates:{}};function l(t){return t.indexOf(".")===0||t.indexOf("^")===0}function d(w,v){if(!w){return undefined}var z=isString(w),u=z?w:w.name,C=l(u);if(C){if(!v){throw new Error("No reference point given for path '"+u+"'")}v=d(v);var B=u.split("."),x=0,A=B.length,y=v;for(;x<A;x++){if(B[x]===""&&x===0){y=v;continue}if(B[x]==="^"){if(!y.parent){throw new Error("Path '"+u+"' not valid for state '"+v.name+"'")}y=y.parent;continue}break}B=B.slice(x).join(".");u=y.name+(y.name&&B?".":"")+B}var t=h[u];if(t&&(z||(!z&&(t===w||t.self===w)))){return t}return undefined}function o(u,t){if(!n[u]){n[u]=[]}n[u].push(t)}function j(t){var u=n[t]||[];while(u.length){b(u.shift())}}function b(v){v=inherit(v,{self:v,resolve:v.resolve||{},toString:function(){return this.name}});var t=v.name;if(!isString(t)||t.indexOf("@")>=0){throw new Error("State must have a valid name")}if(h.hasOwnProperty(t)){throw new Error("State '"+t+"' is already defined")}var w=(t.indexOf(".")!==-1)?t.substring(0,t.lastIndexOf(".")):(isString(v.parent))?v.parent:(isObject(v.parent)&&isString(v.parent.name))?v.parent.name:"";if(w&&!h[w]){return o(w,v.self)}for(var u in k){if(isFunction(k[u])){v[u]=k[u](v,k.$delegates[u])}}h[t]=v;if(!v[e]&&v.url){i.when(v.url,["$match","$stateParams",function(x,y){if(r.$current.navigable!=v||!equalForKeys(x,y)){r.transitionTo(v,x,{inherit:true,location:false})}}])}j(t);return v}function q(t){return t.indexOf("*")>-1}function c(x){var w=x.split("."),u=r.$current.name.split(".");for(var v=0,t=w.length;v<t;v++){if(w[v]==="*"){u[v]="*"}}if(w[0]==="**"){u=u.slice(indexOf(u,w[1]));u.unshift("**")}if(w[w.length-1]==="**"){u.splice(indexOf(u,w[w.length-2])+1,Number.MAX_VALUE);u.push("**")}if(w.length!=u.length){return false}return u.join("")===w.join("")}m=b({name:"",url:"^",views:null,"abstract":true});m.navigable=null;this.decorator=a;function a(t,u){if(isString(t)&&!isDefined(u)){return k[t]}if(!isFunction(u)||!isString(t)){return this}if(k[t]&&!k.$delegates[t]){k.$delegates[t]=k[t]}k[t]=u;return this}this.state=f;function f(t,u){if(isObject(t)){u=t}else{u.name=t}b(u);return this}this.$get=g;g.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"];function g(y,K,G,H,u,M,N,x,J){var z=K.reject(new Error("transition superseded"));var v=K.reject(new Error("transition prevented"));var A=K.reject(new Error("transition aborted"));var B=K.reject(new Error("transition failed"));function L(T,R,S,Q){var P=y.$broadcast("$stateNotFound",T,R,S);if(P.defaultPrevented){N.update();return A}if(!P.retry){return null}if(Q.$retry){N.update();return B}var O=r.transition=K.when(P.retry);O.then(function(){if(O!==r.transition){return z}T.options.$retry=true;return r.transitionTo(T.to,T.toParams,T.options)},function(){return A});N.update();return O}m.locals={resolve:null,globals:{$stateParams:{}}};r={params:{},current:m.self,$current:m,transition:null};r.reload=function E(O){return r.transitionTo(r.current,M,{reload:O||true,inherit:false,notify:true})};r.go=function D(Q,P,O){return r.transitionTo(Q,P,extend({inherit:true,relative:r.$current},O))};r.transitionTo=function t(Q,X,S){X=X||{};S=extend({location:true,inherit:false,relative:null,notify:true,reload:false,$retry:false},S||{});var ad=r.$current,ae=r.params,U=ad.path;var Y,aa=d(Q,S.relative);var O=X["#"];if(!isDefined(aa)){var W={to:Q,toParams:X,options:S};var P=L(W,ad.self,ae,S);if(P){return P}Q=W.to;X=W.toParams;S=W.options;aa=d(Q,S.relative);if(!isDefined(aa)){if(!S.relative){throw new Error("No such state '"+Q+"'")}throw new Error("Could not resolve '"+Q+"' from state '"+S.relative+"'")}}if(aa[e]){throw new Error("Cannot transition to abstract state '"+Q+"'")}if(S.inherit){X=inheritParams(M,X||{},r.$current,aa)}if(!aa.params.$$validates(X)){return B}X=aa.params.$$values(X);Q=aa;var Z=Q.path;var af=0,T=Z[af],V=m.locals,R=[];if(!S.reload){while(T&&T===U[af]&&T.ownParams.$$equals(X,ae)){V=R[af]=T.locals;af++;T=Z[af]}}else{if(isString(S.reload)||isObject(S.reload)){if(isObject(S.reload)&&!S.reload.name){throw new Error("Invalid reload state object")}var ah=S.reload===true?U[0]:d(S.reload);if(S.reload&&!ah){throw new Error("No such reload state '"+(isString(S.reload)?S.reload:S.reload.name)+"'")}while(T&&T===U[af]&&T!==ah){V=R[af]=T.locals;af++;T=Z[af]}}}if(p(Q,X,ad,ae,V,S)){if(O){X["#"]=O}r.params=X;copy(r.params,M);copy(filterByKeys(Q.params.$$keys(),M),Q.locals.globals.$stateParams);if(S.location&&Q.navigable&&Q.navigable.url){N.push(Q.navigable.url,X,{$$avoidResync:true,replace:S.location==="replace"});N.update(true)}r.transition=null;return K.when(r.current)}X=filterByKeys(Q.params.$$keys(),X||{});if(O){X["#"]=O}if(S.notify){if(y.$broadcast("$stateChangeStart",Q.self,X,ad.self,ae,S).defaultPrevented){y.$broadcast("$stateChangeCancel",Q.self,X,ad.self,ae);if(r.transition==null){N.update()}return v}}var ab=K.when(V);for(var ac=af;ac<Z.length;ac++,T=Z[ac]){V=R[ac]=inherit(V);ab=C(T,X,T===Q,ab,V,S)}var ag=r.transition=ab.then(function(){var ai,ak,aj;if(r.transition!==ag){return z}for(ai=U.length-1;ai>=af;ai--){aj=U[ai];if(aj.self.onExit){H.invoke(aj.self.onExit,aj.self,aj.locals.globals)}aj.locals=null}for(ai=af;ai<Z.length;ai++){ak=Z[ai];ak.locals=R[ai];if(ak.self.onEnter){H.invoke(ak.self.onEnter,ak.self,ak.locals.globals)}}if(r.transition!==ag){return z}r.$current=Q;r.current=Q.self;r.params=X;copy(r.params,M);r.transition=null;if(S.location&&Q.navigable){N.push(Q.navigable.url,Q.navigable.locals.globals.$stateParams,{$$avoidResync:true,replace:S.location==="replace"})}if(S.notify){y.$broadcast("$stateChangeSuccess",Q.self,X,ad.self,ae)}N.update(true);return r.current}).then(null,function(ai){if(r.transition!==ag){return z}r.transition=null;Y=y.$broadcast("$stateChangeError",Q.self,X,ad.self,ae,ai);if(!Y.defaultPrevented){N.update()}return K.reject(ai)});return ag};r.is=function w(P,R,O){O=extend({relative:r.$current},O||{});var Q=d(P,O.relative);if(!isDefined(Q)){return undefined}if(r.$current!==Q){return false}return R?equalForKeys(Q.params.$$values(R),M):true};r.includes=function F(P,R,O){O=extend({relative:r.$current},O||{});if(isString(P)&&q(P)){if(!c(P)){return false}P=r.$current.name}var Q=d(P,O.relative);if(!isDefined(Q)){return undefined}if(!isDefined(r.$current.includes[Q.name])){return false}return R?equalForKeys(Q.params.$$values(R),M,objectKeys(R)):true};r.href=function I(P,S,O){O=extend({lossy:true,inherit:true,absolute:false,relative:r.$current},O||{});var Q=d(P,O.relative);if(!isDefined(Q)){return null}if(O.inherit){S=inheritParams(M,S||{},r.$current,Q)}var R=(Q&&O.lossy)?Q.navigable:Q;if(!R||R.url===undefined||R.url===null){return null}return N.href(R.url,filterByKeys(Q.params.$$keys().concat("#"),S||{}),{absolute:O.absolute})};r.get=function(P,O){if(arguments.length===0){return map(objectKeys(h),function(R){return h[R].self})}var Q=d(P,O||r.$current);return(Q&&Q.self)?Q.self:null};function C(O,R,V,S,T,X){var W=(V)?R:filterByKeys(O.params.$$keys(),R);var Q={$stateParams:W};T.resolve=u.resolve(O.resolve,Q,T.resolve,O);var U=[T.resolve.then(function(Y){T.globals=Y})];if(S){U.push(S)}function P(){var Y=[];forEach(O.views,function(Z,aa){var ab=(Z.resolve&&Z.resolve!==O.resolve?Z.resolve:{});ab.$template=[function(){return G.load(aa,{view:Z,locals:T.globals,params:W,notify:X.notify})||""}];Y.push(u.resolve(ab,T.globals,T.resolve,O).then(function(ac){if(isFunction(Z.controllerProvider)||isArray(Z.controllerProvider)){var ad=angular.extend({},ab,T.globals);ac.$$controller=H.invoke(Z.controllerProvider,null,ad)}else{ac.$$controller=Z.controller}ac.$$state=O;ac.$$controllerAs=Z.controllerAs;ac.$$resolveAs=Z.resolveAs;T[aa]=ac}))});return K.all(Y).then(function(){return T.globals})}return K.all(U).then(P).then(function(Y){return T})}return r}function p(z,w,y,v,x,u){function t(E,D,C){function G(H){return E.params[H].location!="search"}var B=E.params.$$keys().filter(G);var A=pick.apply({},[E.params].concat(B));var F=new $$UMFP.ParamSet(A);return F.$$equals(D,C)}if(!u.reload&&z===y&&(x===y.locals||(z.self.reloadOnSearch===false&&t(y,v,w)))){return true}}}angular.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:true}).provider("$state",$StateProvider).run(["$injector",function(a){if(a.get("$state.runtime").autoinject){a.get("$state")}}]);