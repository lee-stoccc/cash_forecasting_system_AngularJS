(function(){angular.module("devplatformApp").controller("devplatformCtrl",["$timeout","$translate","$translatePartialLoader","$ocLazyLoad","$stateParams","$compile","LayoutService","AlertService","$scope","$window","$state","$location","$localStorage","$sessionStorage","ngDialog","$uibModal","$rootScope","globalConstant",function(q,l,i,b,p,o,r,k,j,h,n,d,m,c,g,f,e,a){j.tableList=[];j.viewList=[];j.app={name:"新平台",settings:{navbarHeaderColor:"bg-black",navbarCollapseColor:"bg-white-only",asideColor:"bg-black",headerFixed:true,asideFixed:false,asideFolded:false,asideDock:false,container:false}};j.logout=function(){if(localStorage.Token){r.layoutLog(localStorage.user).then(function(s){if(s.statusCode==="0000"){localStorage.clear();delete m.authenticationToken;delete c.authenticationToken;delete m.userInfo;n.go("login")}})}};j.showHeader=function(){r.getHeader().then(function(s){if(s.statusCode==="0000"){if(s.data!=null){j.app.key=s.data.appKey;j.app.productLogo=s.data.appLogo;localStorage.appName=s.data.appName;localStorage.header=s.data.appHeader;localStorage.homeContent=s.data.appContent;localStorage.homeJson=s.data.appJson;localStorage.index=s.data.appIndex}}})};j.editPassword=function(){j.message="确认修改密码吗？";j.type="confirm";g.open({template:"app/common/dialog.html",className:"ngdialog-theme-default",scope:j,controller:function(s){s.confirm=function(){s.loginName=JSON.parse(localStorage.user).login;f.open({templateUrl:"privilege/app/base/user/user-editPassword.html",controller:"UserEditPasswordController",size:"lg",keyboard:false,backdrop:"static",resolve:{deps:["$ocLazyLoad",function(t){return t.load(["privilege/app/base/user/user-editPassword.controller.js","privilege/app/base/user/user.service.js"])}],translatePartialLoader:["$translate","$translatePartialLoader",function(u,t){t.addPart("user");return u.refresh()}],dep:function(){return s}}});s.closeThisDialog()}}})};j.contentWidth=function(s){};if(!localStorage.Token){c.tabList=[];c.tabLink={}}if(!c.tabList){c.tabList=[]}if(!c.tabLink){c.tabLink={}}j.closeContent=function(s){c.tabList.splice(c.tabList.length-(s+1),1);if(c.tabLink.hasOwnProperty(j.tableList[s].id)){delete c.tabLink[j.tableList[s].id]}j.tableList.splice(s,1);j.viewList.splice(s,1);if(c.tabList.length===0){j.activeTabView=""}else{var t=c.tabList[0];j.activeTabView=t}};j.addContent=function(t){var u=t.url;var s=c.tabList.indexOf(u);if(s>-1){j.activeTabView=u}else{j.addHtmlView(t);c.tabList.unshift(u)}};j.addHtmlView=function(t){var v=t.url;var u="";var s=[];switch(v){case"app.bankRule":i.addPart("bankRule");u="fc/app/bankRule/bankRule.html";s=["fc/app/bankRule/bankRule.controller.js","fc/app/bankRule/bankRule.service.js","fc/app/bankRule/bankRule.state.js"];break;case"app.holiday":i.addPart("holiday");u="fc/app/holiday/holiday.html";s=["fc/app/holiday/holiday.controller.js","fc/app/holiday/holiday.service.js","fc/app/holiday/holiday.state.js"];break;case"app.cusRegion":i.addPart("cusRegion");u="fc/app/cusRegion/cusRegion.html";s=["fc/app/cusRegion/cusRegion.controller.js","fc/app/cusRegion/cusRegion.service.js","fc/app/cusRegion/cusRegion.state.js"];break;case"app.bankInfo":i.addPart("bankInfo");u="fc/app/bankInfo/bankInfo.html";s=["fc/app/bankInfo/bankInfo.controller.js","fc/app/bankInfo/bankInfo.service.js","fc/app/bankInfo/bankInfo.state.js"];break;case"app.termInfo":i.addPart("termInfo");i.addPart("bankRule");u="fc/app/termInfo/termInfo.html";s=["fc/app/termInfo/termInfo.controller.js","fc/app/termInfo/termInfo.service.js","fc/app/bankRule/bankRule.service.js","fc/app/termInfo/termInfo.state.js"];break;case"app.termMonitorData":i.addPart("termInfo");i.addPart("termMonitor");u="fc/app/processData/termMonitor/termMonitor.html";s=["fc/app/processData/termMonitor/termMonitor.controller.js","fc/app/processData/termMonitor/termMonitor.service.js","fc/app/termInfo/termInfo.service.js","fc/app/bankRule/bankRule.service.js"];break;case"app.castData":i.addPart("termInfo");i.addPart("termMonitor");i.addPart("castData");u="fc/app/processData/castData/castData.html";s=["fc/app/processData/castData/castData.controller.js","fc/app/processData/castData/castData.service.js","fc/app/termInfo/termInfo.service.js","fc/app/bankRule/bankRule.service.js"];break;case"app.returnData":i.addPart("termInfo");i.addPart("castData");u="fc/app/processData/returnData/returnData.html";s=["fc/app/processData/returnData/returnData.controller.js","fc/app/processData/returnData/returnData.service.js","fc/app/termInfo/termInfo.service.js","fc/app/bankRule/bankRule.service.js"];break;case"app.dailyUsingData":i.addPart("termInfo");i.addPart("termMonitor");i.addPart("bankRule");u="fc/app/processData/dailyUsing/dailyUsing.html";s=["fc/app/processData/dailyUsing/dailyUsing.controller.js","fc/app/processData/dailyUsing/dailyUsing.service.js","fc/app/processData/dailyUsing/dailyUsing.state.js","fc/app/termInfo/termInfo.service.js","fc/app/bankRule/bankRule.service.js"];break;case"app.forecastPlan":i.addPart("forecastPlan");u="fc/app/forecastPlan/forecastPlan.html";s=["fc/app/forecastPlan/forecastPlan.controller.js","fc/app/forecastPlan/noForecastPlan.controller.js","fc/app/forecastPlan/forecastPlan.service.js","fc/app/forecastPlan/stock/stock.state.js","fc/app/forecastPlan/forecastPlan.state.js"];break;case"app.forecastReportform":i.addPart("forecastReport");u="fc/app/forecastReportform/forecastReportform.html";s=["fc/app/forecastReportform/forecastReportform.controller.js","fc/app/forecastReportform/forecastReportform.service.js","fc/app/forecastReportform/forecastReportform.state.js"];break;case"app.eventManagement":i.addPart("forecastReport");i.addPart("termInfo");i.addPart("eventManagement");u="fc/app/eventManagement/eventManagement.html";s=["fc/app/eventManagement/eventManagement.controller.js","fc/app/eventManagement/eventManagement.service.js","fc/app/eventManagement/eventManagement.state.js"];break;case"app.cashUseRate":i.addPart("cashUseRate");u="fc/app/cashUseRate/cashUseRate.html";s=["fc/app/cashUseRate/cashUseRate.controller.js","fc/app/cashUseRate/cashUseRate.service.js","fc/app/cashUseRate/cashUseRate.state.js"];break;case"app.cashGuaranteeRate":i.addPart("cashGuaranteeRate");u="fc/app/cashGuaranteeRate/cashGuaranteeRate.html";s=["fc/app/cashGuaranteeRate/cashGuaranteeRate.controller.js","fc/app/cashGuaranteeRate/cashGuaranteeRate.service.js","fc/app/cashGuaranteeRate/cashGuaranteeRate.state.js"];break;case"app.inventoryStatistics":i.addPart("inventoryStatistics");u="fc/app/inventoryStatistics/inventoryStatistics.html";s=["fc/app/inventoryStatistics/inventoryStatistics.controller.js","fc/app/inventoryStatistics/inventoryStatistics.service.js","fc/app/inventoryStatistics/inventoryStatistics.state.js"];break;case"app.sys-dict":i.addPart("sysDict");u="privilege/app/base/sys-dict/sys-dict.html";s=["privilege/app/base/sys-dict/sys-dict.controller.js","privilege/app/base/sys-dict/sys-dict.service.js","privilege/app/base/sys-dict/sys-dict.state.js"];break;case"app.sys-operateLog":i.addPart("sysOperateLog");u="privilege/app/base/sys-operateLog/sys-operateLog.html";s=["privilege/app/base/sys-operateLog/sys-operateLog.controller.js","privilege/app/base/sys-operateLog/sys-operateLog.service.js","privilege/app/base/sys-operateLog/sys-operateLog.state.js"];break;case"app.role-manager":i.addPart("sysRole");u="privilege/app/base/role-manager/role-manager.html";s=["privilege/app/base/role-manager/role-manager.controller.js","privilege/app/base/role-manager/role-manager.state.js","privilege/app/base/role-manager/new-role-manager/new-role-manager.controller.js"];break;case"app.menu-management":i.addPart("menuManagement");u="privilege/app/base/menu-management/menu-management.html";s=["privilege/app/base/menu-management/menu-management.controller.js","privilege/app/base/menu-management/menu-management.service.js","privilege/app/base/menu-management/menu-management.state.js"];break;case"app.user":i.addPart("user");u="privilege/app/base/user/user.html";s=["privilege/app/base/user/user.controller.js","privilege/app/base/user/user.service.js","privilege/app/base/user/user.state.js"];break;default:return}j.addHtmlContent(t,u,s)};j.addHtmlContent=function(t,u,s){b.load(s);i.addPart("global");l.refresh();j.activeTabView=t.url;q(function(){var w={id:t.url,idParams:"'"+t.url+"'",langSwitch:t.langSwitch,};if(j.tableList.in_array(w)){return}j.tableList.splice(j.tableList.length,1,w);var v={id:t.url,path:u};j.viewList.splice(j.viewList.length,1,v);if(!c.tabLink.hasOwnProperty(t.url)){c.tabLink[t.url]=t}},100)};j.selectTab=function(s){j.activeTabView=j.tableList[s].id};j.tabLoad=function(){if(c.tabLink){j.tableList=[];j.viewList=[];for(var s in c.tabLink){var t=c.tabLink[s];j.addHtmlView(t)}}if(c.tabList&&c.tabList.length>0){q(function(){var u=c.tabList[0];j.activeTabView=u},1000)}};Array.prototype.in_array=function(t){for(var s=0;s<this.length;s++){if(this[s]==t){return true}}return false}}])})();