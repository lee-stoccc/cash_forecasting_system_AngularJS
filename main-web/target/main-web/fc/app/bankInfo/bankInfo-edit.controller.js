(function(){angular.module("devplatformApp").controller("BankInfoEditController",a);a.$inject=["BankInfoService","$scope","$stateParams","$state","ngDialog","PublicService","$uibModalInstance","ngVerify","SysDictService"];function a(e,k,j,b,h,f,i,c,g){k.datePickerOpenStatus={};k.bankInfo={status:"1"};if(j.id&&j.state=="edit"){e.getBankInfo(j.id).then(function(l){if(l.statusCode==="0000"){k.bankInfo=l.data}})}else{if(j.id&&j.state=="add"){e.getBankInfo(j.id).then(function(l){if(l.statusCode==="0000"){k.bankInfo=l.data;k.bankInfo.parentName=k.bankInfo.bankName;k.bankInfo.parentId=k.bankInfo.id;k.bankInfo.bankName="";k.bankInfo.bankNo="";k.bankInfo.id=""}})}}k.init=function(){d("bankStatusList","forecast.bankStatus")};function d(m,l){g.getDictListAsync(l).then(function(n){if(n.statusCode==="0000"){k[m]=n.data}})}k.save=function(){k.message="global.saveSuccess";e.saveBankInfo(k.bankInfo).then(function(l){if(l.statusCode==="0000"){f.openDialog(k.message);k.clear(true)}else{k.message=l.msgCode;f.openDialog(k.message)}})};k.clear=function(l){i.close();b.go("app.bankInfo",{},{reload:l})}}})();