(function(j,i){var o=["ng","oc.lazyLoad"],e={},f=[],k=[],b=[],d=[],h=j.noop,c={},a=[];var g=j.module("oc.lazyLoad",["ng"]);g.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(y,E,s,F,D,z){var G={},q={$controllerProvider:y,$compileProvider:s,$filterProvider:F,$provide:E,$injector:D,$animateProvider:z},A=false,r=false,p=[],I={};p.push=function(J){if(this.indexOf(J)===-1){Array.prototype.push.apply(this,arguments)}};this.config=function(J){if(j.isDefined(J.modules)){if(j.isArray(J.modules)){j.forEach(J.modules,function(K){G[K.name]=K})}else{G[J.modules.name]=J.modules}}if(j.isDefined(J.debug)){A=J.debug}if(j.isDefined(J.events)){r=J.events}};this._init=function w(L){if(k.length===0){var M=[L],O=["ng:app","ng-app","x-ng-app","data-ng-app"],K=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,J=function J(P){return P&&M.push(P)};j.forEach(O,function(P){O[P]=true;J(document.getElementById(P));P=P.replace(":","\\:");if(typeof L[0]!=="undefined"&&L[0].querySelectorAll){j.forEach(L[0].querySelectorAll("."+P),J);j.forEach(L[0].querySelectorAll("."+P+"\\:"),J);j.forEach(L[0].querySelectorAll("["+P+"]"),J)}});j.forEach(M,function(R){if(k.length===0){var Q=" "+L.className+" ";var P=K.exec(Q);if(P){k.push((P[2]||"").replace(/\s+/g,","))}else{j.forEach(R.attributes,function(S){if(k.length===0&&O[S.name]){k.push(S.value)}})}}})}if(k.length===0&&!((i.jasmine||i.mocha)&&j.isDefined(j.mock))){console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.")}var N=function N(Q){if(o.indexOf(Q)===-1){o.push(Q);var P=j.module(Q);t(null,P._invokeQueue,Q);t(null,P._configBlocks,Q);j.forEach(P.requires,N)}};j.forEach(k,function(P){N(P)});k=[];d.pop()};var B=function B(L){try{return JSON.stringify(L)}catch(K){var J=[];return JSON.stringify(L,function(M,N){if(j.isObject(N)&&N!==null){if(J.indexOf(N)!==-1){return}J.push(N)}return N})}};var C=function C(N){var M=0,K,L,J;if(N.length==0){return M}for(K=0,J=N.length;K<J;K++){L=N.charCodeAt(K);M=(M<<5)-M+L;M|=0}return M};function v(O,R,L){if(R){var M,J,Q,P=[];for(M=R.length-1;M>=0;M--){J=R[M];if(!j.isString(J)){J=H(J)}if(!J||a.indexOf(J)!==-1||G[J]&&b.indexOf(J)===-1){continue}var K=o.indexOf(J)===-1;Q=n(J);if(K){o.push(J);v(O,Q.requires,L)}if(Q._runBlocks.length>0){c[J]=[];while(Q._runBlocks.length>0){c[J].push(Q._runBlocks.shift())}}if(j.isDefined(c[J])&&(K||L.rerun)){P=P.concat(c[J])}t(O,Q._invokeQueue,J,L.reconfig);t(O,Q._configBlocks,J,L.reconfig);h(K?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",J);R.pop();a.push(J)}var N=O.getInstanceInjector();j.forEach(P,function(S){N.invoke(S)})}}function x(M,L){var K=M[2][0],O=M[1],N=false;if(j.isUndefined(e[L])){e[L]={}}if(j.isUndefined(e[L][O])){e[L][O]={}}var P=function P(S,R){if(!e[L][O].hasOwnProperty(S)){e[L][O][S]=[]}if(Q(R,e[L][O][S])){N=true;e[L][O][S].push(R);h("ocLazyLoad.componentLoaded",[L,O,S])}};function Q(S,T){var R=true,U;if(T.length){U=J(S);j.forEach(T,function(V){R=R&&J(V)!==U})}return R}function J(R){if(j.isArray(R)){return C(R.toString())}else{if(j.isObject(R)){return C(B(R))}else{if(j.isDefined(R)&&R!==null){return C(R.toString())}else{return R}}}}if(j.isString(K)){P(K,M[2][1])}else{if(j.isObject(K)){j.forEach(K,function(R,S){if(j.isString(R)){P(R,K[1])}else{P(S,R)}})}else{return false}}return N}function t(M,Q,J,O){if(!Q){return}var N,R,S,T;for(N=0,R=Q.length;N<R;N++){S=Q[N];if(j.isArray(S)){if(M!==null){if(M.hasOwnProperty(S[0])){T=M[S[0]]}else{throw new Error("unsupported provider "+S[0])}}var P=x(S,J);if(S[1]!=="invoke"){if(P&&j.isDefined(T)){T[S[1]].apply(T,S[2])}}else{var K=function K(V){var W=f.indexOf(J+"-"+V);if(W===-1||O){if(W===-1){f.push(J+"-"+V)}if(j.isDefined(T)){T[S[1]].apply(T,S[2])}}};if(j.isFunction(S[2][0])){K(S[2][0])}else{if(j.isArray(S[2][0])){for(var L=0,U=S[2][0].length;L<U;L++){if(j.isFunction(S[2][0][L])){K(S[2][0][L])}}}}}}}}function H(K){var J=null;if(j.isString(K)){J=K}else{if(j.isObject(K)&&K.hasOwnProperty("name")&&j.isString(K.name)){J=K.name}}return J}function u(J){if(!j.isString(J)){return false}try{return n(J)}catch(K){if(/No module/.test(K)||K.message.indexOf("$injector:nomod")>-1){return false}}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(Y,Q,S,ab,aa){var X,J=ab("ocLazyLoad");if(!A){Y={};Y.error=j.noop;Y.warn=j.noop;Y.info=j.noop}q.getInstanceInjector=function(){return X?X:X=Q.data("$injector")||j.injector()};U=function U(ad,ae){if(r){S.$broadcast(ad,ae)}if(A){Y.info(ad,ae)}};function O(ae){var ad=aa.defer();Y.error(ae.message);ad.reject(ae);return ad.promise}return{_broadcast:U,_$log:Y,_getFilesCache:function R(){return J},toggleWatch:function Z(ad){if(ad){d.push(true)}else{d.pop()}},getModuleConfig:function T(ad){if(!j.isString(ad)){throw new Error("You need to give the name of the module to get")}if(!G[ad]){return null}return j.copy(G[ad])},setModuleConfig:function M(ad){if(!j.isObject(ad)){throw new Error("You need to give the module config object to set")}G[ad.name]=ad;return ad},getModules:function V(){return o},isLoaded:function P(ag){var af=function af(ai){var ah=o.indexOf(ai)>-1;if(!ah){ah=!!u(ai)}return ah};if(j.isString(ag)){ag=[ag]}if(j.isArray(ag)){var ae,ad;for(ae=0,ad=ag.length;ae<ad;ae++){if(!af(ag[ae])){return false}}return true}else{throw new Error("You need to define the module(s) name(s)")}},_getModuleName:H,_getModule:function ac(ad){try{return n(ad)}catch(ae){if(/No module/.test(ae)||ae.message.indexOf("$injector:nomod")>-1){ae.message='The module "'+B(ad)+'" that you are trying to load does not exist. '+ae.message}throw ae}},moduleExists:u,_loadDependencies:function L(ae,aj){var af,ag,ai,ak=[],ad=this;ae=ad._getModuleName(ae);if(ae===null){return aa.when()}else{try{af=ad._getModule(ae)}catch(ah){return O(ah)}ag=ad.getRequires(af)}j.forEach(ag,function(al){if(j.isString(al)){var am=ad.getModuleConfig(al);if(am===null){p.push(al);return}al=am;am.name=undefined}if(ad.moduleExists(al.name)){ai=al.files.filter(function(ao){return ad.getModuleConfig(al.name).files.indexOf(ao)<0});if(ai.length!==0){ad._$log.warn('Module "',ae,'" attempted to redefine configuration for dependency. "',al.name,'"\n Additional Files Loaded:',ai)}if(j.isDefined(ad.filesLoader)){ak.push(ad.filesLoader(al,aj).then(function(){return ad._loadDependencies(al)}))}else{return O(new Error("Error: New dependencies need to be loaded from external files ("+al.files+"), but no loader has been defined."))}return}else{if(j.isArray(al)){var an=[];j.forEach(al,function(ap){var ao=ad.getModuleConfig(ap);if(ao===null){an.push(ap)}else{if(ao.files){an=an.concat(ao.files)}}});if(an.length>0){al={files:an}}}else{if(j.isObject(al)){if(al.hasOwnProperty("name")&&al.name){ad.setModuleConfig(al);p.push(al.name)}}}}if(j.isDefined(al.files)&&al.files.length!==0){if(j.isDefined(ad.filesLoader)){ak.push(ad.filesLoader(al,aj).then(function(){return ad._loadDependencies(al)}))}else{return O(new Error('Error: the module "'+al.name+'" is defined in external files ('+al.files+"), but no loader has been defined."))}}});return aa.all(ak)},inject:function W(af){var ai=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var ak=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var ae=this,ad=aa.defer();if(j.isDefined(af)&&af!==null){if(j.isArray(af)){var aj=[];j.forEach(af,function(al){aj.push(ae.inject(al,ai,ak))});return aa.all(aj)}else{ae._addToLoadList(ae._getModuleName(af),true,ak)}}if(k.length>0){var ag=k.slice();var ah=function ah(am){p.push(am);I[am]=ad.promise;ae._loadDependencies(am,ai).then(function an(){try{a=[];v(q,p,ai)}catch(ao){ae._$log.error(ao.message);ad.reject(ao);return}if(k.length>0){ah(k.shift())}else{ad.resolve(ag)}},function al(ao){ad.reject(ao)})};ah(k.shift())}else{if(ai&&ai.name&&I[ai.name]){return I[ai.name]}else{ad.resolve()}}return ad.promise},getRequires:function K(ad){var ae=[];j.forEach(ad.requires,function(af){if(o.indexOf(af)===-1){ae.push(af)}});return ae},_invokeQueue:t,_registerInvokeList:x,_register:v,_addToLoadList:l,_unregister:function N(ad){if(j.isDefined(ad)){if(j.isArray(ad)){j.forEach(ad,function(ae){e[ae]=undefined})}}}}}];this._init(j.element(i.document))}]);var m=j.bootstrap;j.bootstrap=function(r,q,p){o=["ng","oc.lazyLoad"];e={};f=[];k=[];b=[];d=[];h=j.noop;c={};a=[];j.forEach(q.slice(),function(s){l(s,true,true)});return m(r,q,p)};var l=function l(p,q,r){if((d.length>0||q)&&j.isString(p)&&k.indexOf(p)===-1){k.push(p);if(r){b.push(p)}}};var n=j.module;j.module=function(p,r,q){l(p,false,true);return n(p,r,q)};if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="oc.lazyLoad"}})(angular,window);