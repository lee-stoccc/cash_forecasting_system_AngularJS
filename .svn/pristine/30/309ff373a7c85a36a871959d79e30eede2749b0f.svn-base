(function(){angular.module("devplatformApp").controller("devplatformCtrl",["LayoutService","AlertService","$scope","$window","$state","$location","$localStorage","$sessionStorage","ngDialog","$uibModal","$rootScope","globalConstant",function(e,f,l,b,a,d,k,i,j,c,h,g){l.app={name:"新平台",settings:{navbarHeaderColor:"bg-black",navbarCollapseColor:"bg-white-only",asideColor:"bg-black",headerFixed:true,asideFixed:false,asideFolded:false,asideDock:false,container:false}};l.logout=function(){if(localStorage.Token){e.layoutLog(localStorage.user).then(function(m){if(m.statusCode==="0000"){localStorage.clear();delete k.authenticationToken;delete i.authenticationToken;delete k.userInfo;a.go("login")}})}};l.showHeader=function(){e.getHeader().then(function(m){if(m.statusCode==="0000"){if(m.data!=null){l.app.key=m.data.appKey;l.app.productLogo=m.data.appLogo;localStorage.appName=m.data.appName;localStorage.header=m.data.appHeader;localStorage.homeContent=m.data.appContent;localStorage.homeJson=m.data.appJson;localStorage.index=m.data.appIndex}}})};l.editPassword=function(){l.message="确认修改密码吗？";l.type="confirm";j.open({template:"app/common/dialog.html",className:"ngdialog-theme-default",scope:l,controller:function(m){m.confirm=function(){m.loginName=JSON.parse(localStorage.user).login;c.open({templateUrl:"privilege/app/base/user/user-editPassword.html",controller:"UserEditPasswordController",size:"lg",keyboard:false,backdrop:"static",resolve:{deps:["$ocLazyLoad",function(n){return n.load(["privilege/app/base/user/user-editPassword.controller.js","privilege/app/base/user/user.service.js"])}],translatePartialLoader:["$translate","$translatePartialLoader",function(o,n){n.addPart("user");return o.refresh()}],dep:function(){return m}}});m.closeThisDialog()}}})};l.hiddenCss=function(){angular.element(".ng-scope").children("div").removeClass("content2");angular.element(".new-nav .active").children("ul").css("display","none")};l.hiddenMenu=function(){angular.element(".ng-scope").children("div").removeClass("content2");angular.element(".new-nav .active").children("ul").css("display","none")}}]);angular.element(".nav navbar-nav navbar-right").click(function(){var a=angular.element(".dropdown-menu animated fadeInRight");a.style.display="block"})})();