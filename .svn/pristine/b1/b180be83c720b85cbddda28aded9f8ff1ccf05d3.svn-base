"use strict";window.SwaggerUi=Backbone.Router.extend({dom_id:"swagger_ui",options:null,api:null,headerView:null,mainView:null,initialize:function(a){a=a||{};if(a.defaultModelRendering!=="model"){a.defaultModelRendering="schema"}if(!a.highlightSizeThreshold){a.highlightSizeThreshold=100000}if(a.dom_id){this.dom_id=a.dom_id;delete a.dom_id}if(!a.supportedSubmitMethods){a.supportedSubmitMethods=["get","put","post","delete","head","options","patch"]}if(typeof a.oauth2RedirectUrl==="string"){window.oAuthRedirectUrl=a.oauth2RedirectUrl}if(!$("#"+this.dom_id).length){$("body").append('<div id="'+this.dom_id+'"></div>')}this.options=a;marked.setOptions({gfm:true});var b=this;this.options.success=function(){return b.render()};this.options.progress=function(c){return b.showMessage(c)};this.options.failure=function(c){return b.onLoadFailure(c)};this.headerView=new SwaggerUi.Views.HeaderView({el:$("#header")});this.headerView.on("update-swagger-ui",function(c){return b.updateSwaggerUi(c)});JSONEditor.defaults.iconlibs.swagger=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"collapse",expand:"expand"},icon_prefix:"swagger-"})},setOption:function(a,b){this.options[a]=b},getOption:function(a){return this.options[a]},updateSwaggerUi:function(a){this.options.url=a.url;this.load()},load:function(){if(this.mainView){this.mainView.clear()}if(this.authView){this.authView.remove()}var a=this.options.url;if(a&&a.indexOf("http")!==0){a=this.buildUrl(window.location.href.toString(),a)}if(this.api){this.options.authorizations=this.api.clientAuthorizations.authz}this.options.url=a;this.headerView.update(a);this.api=new SwaggerClient(this.options)},collapseAll:function(){Docs.collapseEndpointListForResource("")},listAll:function(){Docs.collapseOperationsForResource("")},expandAll:function(){Docs.expandOperationsForResource("")},render:function(){var a;this.showMessage("Finished Loading Resource Information. Rendering Swagger UI...");this.mainView=new SwaggerUi.Views.MainView({model:this.api,el:$("#"+this.dom_id),swaggerOptions:this.options,router:this}).render();if(!_.isEmpty(this.api.securityDefinitions)){a=_.map(this.api.securityDefinitions,function(d,c){var b={};b[c]=d;return b});this.authView=new SwaggerUi.Views.AuthButtonView({data:SwaggerUi.utils.parseSecurityDefinitions(a),router:this});$("#auth_container").append(this.authView.render().el)}this.showMessage();switch(this.options.docExpansion){case"full":this.expandAll();break;case"list":this.listAll();break;default:break}this.renderGFM();if(this.options.onComplete){this.options.onComplete(this.api,this)}setTimeout(Docs.shebang.bind(this),100)},buildUrl:function(c,a){if(a.indexOf("/")===0){var d=c.split("/");c=d[0]+"//"+d[2];return c+a}else{var b=c.length;if(c.indexOf("?")>-1){b=Math.min(b,c.indexOf("?"))}if(c.indexOf("#")>-1){b=Math.min(b,c.indexOf("#"))}c=c.substring(0,b);if(c.indexOf("/",c.length-1)!==-1){return c+a}return c+"/"+a}},showMessage:function(a){if(a===undefined){a=""}var b=$("#message-bar");b.removeClass("message-fail");b.addClass("message-success");b.text(a);if(window.SwaggerTranslator){window.SwaggerTranslator.translate(b)}},onLoadFailure:function(a){if(a===undefined){a=""}$("#message-bar").removeClass("message-success");$("#message-bar").addClass("message-fail");var b=$("#message-bar").text(a);if(this.options.onFailure){this.options.onFailure(a)}return b},renderGFM:function(){$(".markdown").each(function(){$(this).html(marked($(this).html()))});$(".propDesc",".model-signature .description").each(function(){$(this).html(marked($(this).html())).addClass("markdown")})}});window.SwaggerUi.Views={};window.SwaggerUi.Models={};window.SwaggerUi.Collections={};window.SwaggerUi.partials={};window.SwaggerUi.utils={};(function(){window.authorizations={add:function(){a("Using window.authorizations is deprecated. Please use SwaggerUi.api.clientAuthorizations.add().");if(typeof window.swaggerUi==="undefined"){throw new TypeError("window.swaggerUi is not defined")}if(window.swaggerUi instanceof SwaggerUi){window.swaggerUi.api.clientAuthorizations.add.apply(window.swaggerUi.api.clientAuthorizations,arguments)}}};window.ApiKeyAuthorization=function(){a("window.ApiKeyAuthorization is deprecated. Please use SwaggerClient.ApiKeyAuthorization.");SwaggerClient.ApiKeyAuthorization.apply(window,arguments)};window.PasswordAuthorization=function(){a("window.PasswordAuthorization is deprecated. Please use SwaggerClient.PasswordAuthorization.");SwaggerClient.PasswordAuthorization.apply(window,arguments)};function a(b){if("console" in window&&typeof window.console.warn==="function"){console.warn(b)}}})();(function(a,b){if(typeof define==="function"&&define.amd){define(["b"],function(c){return(a.SwaggerUi=b(c))})}else{if(typeof exports==="object"){module.exports=b(require("b"))}else{a.SwaggerUi=b(a.b)}}}(this,function(){return SwaggerUi}));