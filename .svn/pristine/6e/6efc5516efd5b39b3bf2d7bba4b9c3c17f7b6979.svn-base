(function(){angular.module("devplatformApp").controller("PrivilegeHeadController",a);a.$inject=["$scope","ngDialog","LayoutService","$sessionStorage","$rootScope","$localStorage","$state"];function a(c,h,e,g,b,d,f){c.editPassword=function(){c.message="确认修改密码吗？";c.type="confirm";h.open({template:"app/common/dialog.html",className:"ngdialog-theme-default",scope:c,controller:function(i){i.confirm=function(){i.loginName=JSON.parse(localStorage.user).login;$uibModal.open({templateUrl:"privilege/app/base/user/user-editPassword.html",controller:"UserEditPasswordController",size:"lg",keyboard:false,backdrop:"static",resolve:{deps:["$ocLazyLoad",function(j){return j.load(["privilege/app/base/user/user-editPassword.controller.js","privilege/app/base/user/user.service.js"])}],translatePartialLoader:["$translate","$translatePartialLoader",function(k,j){j.addPart("user");return k.refresh()}],dep:function(){return i}}});i.closeThisDialog()}}})};c.logout=function(){if(localStorage.Token){e.layoutLog(localStorage.user).then(function(i){if(i.statusCode==="0000"){delete d.authenticationToken;delete g.authenticationToken;delete d.userInfo;delete d.header;delete localStorage.user;delete localStorage.Token;g.tabList=[];g.tabLink={};f.go("login")}})}};c.goBellInfo=function(){h.open({template:"fc/app/warningInformation/warningInformation.html",className:"ngdialog-theme-default",scope:c,controller:"WarningInformationController"})}}})();