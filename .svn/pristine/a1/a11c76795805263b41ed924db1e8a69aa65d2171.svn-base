angular.module("ngCacheBuster",[]).config(["$httpProvider",function(a){return a.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/];this.logRequests=false;this.black=false;this.setMatchlist=function(a,b){this.black=typeof b!="undefined"?b:false;this.matchlist=a};this.setLogRequests=function(a){this.logRequests=a};this.$get=["$q","$log",function(a,d){var b=this.matchlist;var c=this.logRequests;var e=this.black;if(c){d.log("Blacklist? ",e)}return{request:function(f){var j=!e;for(var g=0;g<b.length;g++){if(f.url.match(b[g])){j=e;break}}if(j){var k=new Date();f.url=f.url.replace(/[?|&]cacheBuster=\d+/,"");f.url+=f.url.indexOf("?")===-1?"?":"&";f.url+="cacheBuster="+k.getTime()}if(c){var h="request.url ="+f.url;j?d.warn(h):d.info(h)}return f||a.when(f)}}}]});