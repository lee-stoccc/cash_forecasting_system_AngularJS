<div class="panel ng-scope openwindow-panel" ng-init="init()">
	<form class="form-horizontal form-inline" ng-submit="save()"
		verify-scope>
		<div class="modal-header">
			<h4 class="modal-title font-mu" data-translate="termInfo.title">缂栬緫璁惧</h4>
			<span class="glyphicon glyphicon-remove modal-delete"
				ng-click="clear(false)"></span>
		</div>
		<div class="modal-main"  style="padding-bottom:100px">
			<ul class="nav nav-tabs" ng-init="activeTab=1">
				<li ng-class="{active: activeTab == 1}"><a href="javascript:;"
					ng-click="activeTab = 1"><span
						data-translate="bankRule.basicMsg"></span></a></li>
				<li ng-class="{active: activeTab == 2}"><a href="javascript:;"
					ng-click="activeTab = 2"><span
						data-translate="bankRule.cashRule"></span></a></li>
				<li ng-class="{active: activeTab == 3}"><a href="javascript:;"
					ng-click="activeTab = 3"><span
						data-translate="bankRule.deviceParam"></span></a></li>
				<li ng-class="{active: activeTab == 4}"><a href="javascript:;"
					ng-click="activeTab = 4"><span
						data-translate="bankRule.fullAndLack"></span></a></li>
			</ul>
			<div class="modal-body">
				<div ng-show="activeTab == 1">
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div> 
							<label data-translate="termInfo.termNo">璁惧缂栧彿</label> <input ng-disabled="true"
								type="text"  ng-model="formParam.termNo" 
								ng-change="changeNo(termInfo.termNo)" />
						</div>
					</div>
					<!-- <div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.cusTermNo">鑷畾涔夌紪鍙�</label> <input  ng-disabled="true"
								type="text"  ng-model="formParam.cusTermNo" />
						</div>
					</div> -->
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.termName">璁惧绫诲瀷</label> <input 
								ng-model="formParam.typeName"  ng-disabled="true" style="width:200px"
								ng-change="selectTermType()"
								>
							</input>
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div >
							<label data-translate="termInfo.branchNo" >缃戠偣鍚嶇О</label> <input  
								ng-model="formParam.branchNo"   ng-disabled="true"  style="width:200px"
								ng-change="getBranchNo()"
								>
							</input>
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label class="forecastLabel" data-translate="termInfo.bankName">鎵�灞為摱琛�</label>
							<input ng-model="formParam.bankName"   ng-disabled="true" style="width:200px"
								ng-change="changeBank()">
							</input>
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.district2">琛屾斂鍖哄煙</label> <input
								ng-model="formParam.districtLevel2"  ng-disabled="true"  style="width:200px"
							>
							</input>
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.location2">鍟嗗湀灞炴��</label> <input
								ng-model="formParam.location2" ng-disabled="true"  style="width:200px"
								>
							</input>
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.address">璁惧鍦板潃</label> <input ng-disabled="true"
								type="text"  ng-model="formParam.address" />
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.status">璁惧鐘舵��</label> <input
								ng-model="formParam.statusName"  ng-disabled="true"  style="width:200px"
								>
								</input>
						
						</div>
					</div>
					
					
					<!-- <div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="termInfo.cusRegion">鑷畾涔夊尯鍩�</label> <select
								ng-model="formParam.cusRegionId" ng-disabled="true"
								ng-options="cusgion.id as cusgion.regionName for cusgion in cusgionList">
								<option value="" data-translate="global.pleaseSelect"></option>
							</select>
						</div>
					</div> -->

					<div class="col-sm-6 col-info input-pop ">
						<div>
							<label data-translate="termInfo.escort">鎶艰繍鍏徃</label> <input
								ng-model="formParam.escortName" ng-disabled="true"  style="width:200px"
								>
							</input>
						</div>
					</div>
					<!-- <div class="col-sm-6 col-info input-pop ">
						<div>
							<label data-translate="termInfo.fillUp">鏄惁婊￠挒</label> <select ng-disabled="true"	
								ng-model="formParam.fillUp">
								<option value="1" data-translate="global.yes">Yes</option>
								<option value="2" data-translate="global.no">No</option>
							</select>

						</div>
					</div> -->
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="">ReplenishMode</label>
							<input	type="text"  ng-model="formParam.replenishMode" ng-disabled="true"/>
						</div>
					</div>
				</div>
				<div ng-show="activeTab == 2">
					<!-- <div class="col-sm-12 col-info input-pop">
						<div>
							<label data-translate="termInfo.baseFirst"></label> <input
								type="checkbox" ng-true-value="'1'" ng-false-value="'2'" ng-disabled="true"
								ng-model="formParam.baseFirst">
						</div>
					</div> -->
					<div class="col-sm-6 col-info input-pop">
					<div>
						<label data-translate="termInfo.forecastStatus">棰勬祴鐘舵��</label> 
						<select ng-model="formParam.forecastStatus" 
								ng-options="s.dictKey as s.dictDesc for s in forecastStatusList">
							<option data-translate="global.pleaseSelect"></option>
						</select>
					</div>
				</div>
					 <div class="col-sm-6 col-info input-pop ">
						<div>
							<label data-translate="termInfo.fillUp">鏄惁婊￠挒</label> <select 
								ng-model="formParam.fillUp">
								<option value="1" data-translate="global.yes">Yes</option>
								<option value="2" data-translate="global.no">No</option>
								<option data-translate="global.pleaseSelect"></option>
							</select>

						</div>
					</div> 
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="bankRule.indCashSecurit">鐜伴噾淇濋殰鐜囨潈閲�</label> 
							<input type="number" ng-model="formParam.indCashSecurity" placeholder="0.900~0.99" 
							oninput="if(value>0.99)value=0.99;if(value<0.9)value=0.9"
							/>
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="bankRule.indCashReturn">鐜伴噾鎴愭湰绯绘暟</label> <input
								type="number" ng-model="formParam.indReplenishCost" 
								oninput="if(value>3)value=3;if(value<1)value=''"
								placeholder="1~3" ng-verify ng-blur="blurformParam()" />
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="bankRule.unitCount">鍔犻挒寮犳暟瑙勫垯</label> 
							<input type="plusInteger" ng-verify ng-model="formParam.unitCount" />
						</div>
					</div>
					<div class="col-sm-6 col-info">
						<div>
							<label data-translate="bankRule.holidayAdd">鑺傚亣鏃ユ槸鍚﹀姞閽�</label> <input
								type="radio" ng-model="formParam.holidayAdd" ng-value="'1'"
								name="cashRule"><span data-translate="global.yes"></span>
							<input type="radio" ng-model="formParam.holidayAdd"
								ng-value="'2'" name="cashRule"><span
								data-translate="global.no"></span>
						</div>
					</div>
					
					<div class="col-sm-12 col-info">
						<div>
							<label data-translate="bankRule.replenishRule">涓�鍛ㄥ姞閽炶鍒�</label> <input
								type="checkbox" ng-model="select_all" ng-change="selectAll()"><span
								data-translate="bankRule.selectAll"></span> <input
								type="checkbox" ng-model="select_workDay"
								ng-change="selectWorkDay()"><span
								data-translate="bankRule.workDay"></span>
						</div>
					</div>
					<div class="col-sm-12 col-info">
						<div>
							<label></label> <span class="marginR"
								ng-repeat="i in replenishRule"> <input type="checkbox"
								ng-model="i.checked" ng-change="selectOne()"> <span>{{i.value}}</span>
							</span>
						</div>
					</div>

							<!-- 固定加钞星期几 -->
					<div class="col-sm-12 col-info">
						<div>
							<label data-translate="bankRule.replenishRuleFixed">涓�鍛ㄥ姞閽炶鍒�</label> <input
								type="checkbox" ng-model="select_allFixed" ng-change="selectAllFixed()"><span
								data-translate="bankRule.selectAll"></span> <input
								type="checkbox" ng-model="select_workDayFixed"
								ng-change="selectWorkDayFixed()"><span
								data-translate="bankRule.workDay"></span>
						</div>
					</div>
					<div class="col-sm-12 col-info">
						<div>
							<label></label> <span class="marginR"
								ng-repeat="i in replenishRuleFixed"> <input type="checkbox"
								ng-model="i.checked" ng-change="selectOneFixed()"> <span>{{i.value}}</span>
							</span>
						</div>
					</div>
					
					<div class="col-sm-12 col-info">
						<div style="display: flex">
							<label data-translate="termInfo.FixedNoteAddDate">鍥哄畾鍔犻挒鏃ユ湡</label>
							<div class="padder inline"
								style="max-width: 710px; line-height: 36px">
								<span style="margin-left: 1px" ng-repeat="date in dateList">
									<span class="dateStyle  {{date.check?'dateStyleSelect':''}}"
									ng-click="date.check = !date.check">{{date.value}}</span>
								</span>
							</div>
						</div>
					</div>

				<!-- 	<div class="col-sm-12 col-info">
						<div style="display: flex">
							<label data-translate="termInfo.cashTime">鍔犻挒鏃舵</label>
							<div class="padder inline" style="max-width: 710px">
								<span style="min-width: 230px; float: left; padding: 5px 0;"
									ng-repeat="ct in formParam.replenishTimes"> <input
									ng-model="ct.startTime" class="timeLen"
									onClick="WdatePicker({dateFmt:'HH:mm',lang:'zh-cn',onpicked: function(){$(this).trigger('change')}})" />
									<input ng-model="ct.endTime" class="timeLen"
									onClick="WdatePicker({dateFmt:'HH:mm',lang:'zh-cn',onpicked: function(){$(this).trigger('change')}})" />
									<span ng-click="addCashTime()" class="glyphicon glyphicon-plus"></span>
									<span ng-click="delCashTime($index)"
									class="glyphicon glyphicon-minus"></span>
								</span>
							</div>
						</div>  
					</div> -->
					<!-- 加钞平率 -->
					<!-- <div class="col-sm-12 col-info input-pop verifyTips-sp" style="position:relative;top:-10px">
						<div>
							<label data-translate="bankRule.frequency"></label> 
						</div>
					</div> -->
					<!-- <div class="col-sm-12 col-info input-pop verifyTips-sp" style="position:relative;top:-10px">
						<div>
							<label  data-translate="bankRule.day"></label> 
							 <input type="plusInteger" class="cursonLen"ng-model="formParam.day" /> 
						</div>
					</div>
					<div class="col-sm-12 col-info input-pop verifyTips-sp" style="position:relative;top:-10px">
						<div>
							<label  data-translate="bankRule.time"></label> 
							<input type="plusInteger"  class="cursonLen" ng-model="formParam.time" /> 
						</div>
					</div> -->
				</div>
				<div ng-show="activeTab == 3">
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="bankRule.fullCash" style="text-align: left">婊￠挒棰勮鍊�</label> <input
								type="number" ng-model="formParam.fullWarn"
								ng-change="calcultePencent()" ng-verify />
						</div>
					</div>
					<div class="col-sm-6 col-info input-pop verifyTips-sp">
						<div>
							<label data-translate="bankRule.lackCash">缂洪挒棰勮鍊�</label> <input
								type="number" ng-model="formParam.lackWarn"
								ng-change="calcultePencent()" ng-verify />
						</div>
					</div>
					<div class="col-sm-12 col-info">
						<div ng-repeat="item in formParam.termCashLimits" style="text-align:center;">
							<!-- 鍘熸潵甯佺鍙互閫夋嫨涓嬫媺妗� -->
							<!-- <div style="margin-top:10px;margin-bottom:10px">
								<label data-translate="bankRule.stockCeiling">甯佺</label>
								<label data-translate="bankRule.currency" >甯佺</label> 
								<select ng-model="item.type" ng-change="changeCurrency(item.type,$index)">
									<option value="" data-translate="global.pleaseSelect"></option>
									<option ng-repeat="type in deTypeList" value="{{type.dictKey}}">{{type.dictDesc}}</option>
								</select> <span ng-click="add()" class="glyphicon glyphicon-plus"></span>
								<span ng-click="del($index)" class="glyphicon glyphicon-minus"></span><br />
							</div> -->
							<div ng-model="item.type" style="text-align:left">Currency:{{item.type}}</div>
							<div class="col-sm-12 col-info">
								<div>
									<table class="table-bordered table-pop">
										<tr> 
											<th align="center"><label
												data-translate="bankRule.denomination">闈㈤</label></th>
											<th align="center"><label
												data-translate="bankRule.stockCeiling">鏈�澶у厑璁稿簱瀛�</label></th> 
											<!-- <th align="center"><label
												data-translate="">FixCount</label></th> -->
											<th align="center"><label
												data-translate="bankRule.minStock"></label></th>
											<th align="center"><label
												data-translate="termInfo.fullCount">婊￠挒棰勮寮犳暟</label></th>
											<th align="center"><label
												data-translate="termInfo.lackCount">缂洪挒棰勮寮犳暟</label></th>
										</tr>
										<tr ng-repeat="denomination in item.denominationList">
											<input type="hidden" name="denomination"  style="width:110px"
												ng-value="{{ denomination.dictKey || denomination.denomination}}" />
											<td>{{denomination.dictDescs||denomination.dictKey ||
												denomination.denomination}}</td>
											<!-- <td><input type="number" ng-change="calcultePencent()" style="width:110px"
												ng-verify ng-model="denomination.ceilingCount" /></td> -->
											<td><input type="number" style="width:110px" ng-change="calcultePencent()"
												ng-model="denomination.fixCount"  ng-readonly="true"/></td>
											<td><input type="number" ng-change="calcultePencent()" style="width:110px"
												ng-verify ng-model="denomination.floorCount" /></td>
											<td><input type="number" style="width:110px"
												ng-model="denomination.fullWarn" ng-readonly="true" /></td>
											<td><input type="number" style="width:110px"
												ng-model="denomination.lackWarn" ng-readonly="true" /></td>
										</tr>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div ng-show="activeTab == 4">
					<div class="col-sm-12 col-info input-pop">
						<div>
							<label data-translate="bankRule.fullJuge">婊￠挒鍒ゅ畾</label> <input
								type="radio" ng-model="formParam.fullJudge" ng-value="'0'"><span
								data-translate="bankRule.device">璁惧</span> <input type="radio"
								ng-model="formParam.fullJudge" ng-value="'1'"><span
								data-translate="bankRule.wd"></span> <br> <label
								data-translate="bankRule.lackJuge">缂洪挒鍒ゅ畾</label> <input
								type="radio" ng-model="formParam.lackJudge" ng-value="'0'"><span
								data-translate="bankRule.device">璁惧</span> <input type="radio"
								ng-model="formParam.lackJudge" ng-value="'1'"><span
								data-translate="bankRule.wd"></span>
						</div>
					</div>
					<div class="col-sm-12 col-info input-pop">
						<div>
							<label></label> <input type="checkbox" ng-true-value="'1'"
								ng-false-value="'2'" ng-model="formParam.lackRule"> <span
								data-translate="termInfo.lackRule">涓�绉嶉潰棰濈己閽炲嵆涓虹己閽�</span>
						</div>
					</div>
				</div>
			</div>
			
			<div class="modal-footer button-block">
				<button type="submit" ng-verify >  
					<span class="glyphicon glyphicon-save"></span> <span
						data-translate="entity.action.save">Save</span>
				</button>
				<button type="button" ng-click="clear(false)">
					<span class="glyphicon glyphicon-ban-circle"></span> <span
						data-translate="entity.action.cancel">Cancel</span>
				</button>
				<div class="attention" style="margin-top:10px;text-align:center;color:#f00">Attention:<span class="span_nec">&nbsp;&nbsp;*&nbsp;&nbsp;</span>is required</div>
			</div>
		</div>
		
	</form>
</div>