!function(d,c){"function"==typeof define&&define.amd?define([],function(){return c()}):"object"==typeof exports?module.exports=c():c()}(this,function(){return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(d){function c(b){return b.$stateful=!0,b}d.decorator("dateFilter",["$delegate",c]),d.decorator("numberFilter",["$delegate",c]),d.decorator("currencyFilter",["$delegate",c])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(x){function w(i,e,z,y){var l=document.createElement("script"),k=t?t:document.getElementsByTagName("body")[0],j=!1;l.type="text/javascript",l.readyState?l.onreadystatechange=function(){("complete"===l.readyState||"loaded"===l.readyState)&&(l.onreadystatechange=null,y(function(){j||(j=!0,k.removeChild(l),e())},30,!1))}:(l.onload=function(){j||(j=!0,k.removeChild(l),e())},l.onerror=function(){j||(j=!0,k.removeChild(l),z())}),l.src=i,l.async=!0,k.appendChild(l)}function v(C,B,A,z,y,k,j){function g(d,c){r===A&&(angular.forEach(d,function(e,a){c[a]?angular.isArray(c[a])&&(d[a].length=c[a].length):delete d[a]}),angular.forEach(c,function(e,a){angular.isArray(c[a])||angular.isObject(c[a])?(d[a]||(d[a]=angular.isArray(c[a])?[]:{}),g(d[a],c[a])):d[a]=c[a]}))}if(n[A]){return r=A,n[A]}var f,b=y.defer();return A===r?b.resolve(B):(f=k.get(A))?(r=A,z.$evalAsync(function(){g(B,f),s.put(o,A),z.$broadcast("$localeChangeSuccess",A,B),b.resolve(B)})):(r=A,n[A]=b.promise,w(C,function(){var d=angular.injector(["ngLocale"]),c=d.get("$locale");g(B,c),k.put(A,c),delete n[A],z.$applyAsync(function(){s.put(o,A),z.$broadcast("$localeChangeSuccess",A,B),b.resolve(B)})},function(){delete n[A],z.$applyAsync(function(){r===A&&(r=B.id),z.$broadcast("$localeChangeError",A),b.reject(A)})},j)),b.promise}var u,t,s,r,q="angular/i18n/angular-locale_{{locale}}.js",p="tmhDynamicLocaleStorageCache",o=x,n={},m={};this.localeLocationPattern=function(b){return b?(q=b,this):q},this.appendScriptTo=function(b){t=b},this.useStorage=function(b){p=b},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(b){u=b},this.storageKey=function(b){return b?(o=b,this):o},this.addLocalePatternValue=function(d,c){m[d]=c},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(y,l,j,i,h,g,f){function d(a){var e={locale:a,angularVersion:angular.version.full};return v(c(angular.extend({},m,e)),i,a,y,h,g,f)}var c=j(q);return s=l.get(p),y.$evalAsync(function(){var b;(b=s.get(o)||u)&&d(b)}),{set:d,get:function(){return r}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(b){return b("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(b){return b("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"});