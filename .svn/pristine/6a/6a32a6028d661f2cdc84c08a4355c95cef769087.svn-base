(function(a){a.module("oc.lazyLoad").config(["$provide",function(b){b.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(f,d,j,i){var g=false,c=false,e=j.document.getElementsByTagName("head")[0]||j.document.getElementsByTagName("body")[0];f.buildElement=function h(u,B,p){var A=d.defer(),n,r,z=f._getFilesCache(),m=function m(C){var v=new Date().getTime();if(C.indexOf("?")>=0){if(C.substring(0,C.length-1)==="&"){return C+"_dc="+v}return C+"&_dc="+v}else{return C+"?_dc="+v}};if(a.isUndefined(z.get(B))){z.put(B,A.promise)}switch(u){case"css":n=j.document.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=p.cache===false?m(B):B;break;case"js":n=j.document.createElement("script");n.src=p.cache===false?m(B):B;break;default:z.remove(B);A.reject(new Error('Requested type "'+u+'" is not known. Could not inject "'+B+'"'));break}n.onload=n.onreadystatechange=function(v){if(n.readyState&&!/^c|loade/.test(n.readyState)||r){return}n.onload=n.onreadystatechange=null;r=1;f._broadcast("ocLazyLoad.fileLoaded",B);A.resolve(n)};n.onerror=function(){z.remove(B);A.reject(new Error("Unable to load "+B))};n.async=p.serie?0:1;var o=e.lastChild;if(p.insertBefore){var q=a.element(a.isDefined(window.jQuery)?p.insertBefore:document.querySelector(p.insertBefore));if(q&&q.length>0){o=q[0]}}o.parentNode.insertBefore(n,o);if(u=="css"){if(!g){var k=j.navigator.userAgent.toLowerCase();if(k.indexOf("phantomjs/1.9")>-1){c=true}else{if(/iP(hone|od|ad)/.test(j.navigator.platform)){var y=j.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);var t=parseFloat([parseInt(y[1],10),parseInt(y[2],10),parseInt(y[3]||0,10)].join("."));c=t<6}else{if(k.indexOf("android")>-1){var s=parseFloat(k.slice(k.indexOf("android")+8));c=s<4.4}else{if(k.indexOf("safari")>-1){var x=k.match(/version\/([\.\d]+)/i);c=x&&x[1]&&parseFloat(x[1])<6}}}}}if(c){var w=1000;var l=i(function(){try{n.sheet.cssRules;i.cancel(l);n.onload()}catch(v){if(--w<=0){n.onerror()}}},20)}}return A.promise};return f}])}])})(angular);