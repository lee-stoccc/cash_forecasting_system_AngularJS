"use strict";SwaggerUi.Views.ParameterView=Backbone.View.extend({events:{"change [name=parameterContentType]":"toggleParameterSnippet"},initialize:function(){Handlebars.registerHelper("isArray",function(b,a){var c=b.type&&b.type.toLowerCase();if(c==="array"||b.allowMultiple){return a.fn(this)}else{return a.inverse(this)}})},render:function(){var j=this.model.type||this.model.dataType;var f=this.model.modelSignature.type;var m=this.model.modelSignature.definitions;var g=this.model.schema||{};var d=this.model.consumes||[];var k,q;if(typeof j==="undefined"){if(g.$ref){var e=g.$ref;if(e.indexOf("#/definitions/")===0){j=e.substring("#/definitions/".length)}else{j=e}}}this.model.type=j;this.model.paramType=this.model["in"]||this.model.paramType;this.model.isBody=this.model.paramType==="body"||this.model["in"]==="body";this.model.isFile=j&&j.toLowerCase()==="file";if(typeof this.model["default"]==="undefined"){this.model["default"]=this.model.defaultValue}this.model.hasDefault=(typeof this.model["default"]!=="undefined");this.model.valueId="m"+this.model.name+Math.random();if(this.model.allowableValues){this.model.isList=true}var p=this.contains(d,"xml");var b=p?this.contains(d,"json"):true;k=SwaggerUi.partials.signature.createParameterJSONSample(f,m);var o=this.template();$(this.el).html(o(this.model));var n={sampleJSON:b?k:false,sampleXML:k&&p?SwaggerUi.partials.signature.createXMLSample("",g,m,true):false,isParam:true,signature:SwaggerUi.partials.signature.getParameterModelSignature(f,m),defaultRendering:this.model.defaultRendering};if(k){q=new SwaggerUi.Views.SignatureView({model:n,tagName:"div"});$(".model-signature",$(this.el)).append(q.render().el)}else{$(".model-signature",$(this.el)).html(this.model.signature)}var c=false;if(this.options.swaggerOptions.jsonEditor&&this.model.isBody&&this.model.schema){var l=$(this.el);this.model.jsonEditor=new JSONEditor($(".editor_holder",l)[0],{schema:this.model.schema,startval:this.model["default"],ajax:true,disable_properties:true,disable_edit_json:true,iconlib:"swagger"});n.jsonEditor=this.model.jsonEditor;$(".body-textarea",l).hide();$(".editor_holder",l).show();$(".parameter-content-type",l).change(function(r){if(r.target.value==="application/xml"){$(".body-textarea",l).show();$(".editor_holder",l).hide();this.model.jsonEditor.disable()}else{$(".body-textarea",l).hide();$(".editor_holder",l).show();this.model.jsonEditor.enable()}})}if(this.model.isBody){c=true}var a={isParam:c};a.consumes=this.model.consumes;if(c){var h=new SwaggerUi.Views.ParameterContentTypeView({model:a});$(".parameter-content-type",$(this.el)).append(h.render().el);this.toggleParameterSnippet()}else{var i=new SwaggerUi.Views.ResponseContentTypeView({model:a});$(".response-content-type",$(this.el)).append(i.render().el);this.toggleResponseSnippet()}return this},contains:function(a,b){return a.filter(function(c){if(c.indexOf(b)>-1){return true}}).length},toggleParameterSnippet:function(){var a=this.$("[name=parameterContentType]").val();this.toggleSnippet(a)},toggleResponseSnippet:function(){var a=this.$("[name=responseContentType]");if(!a.length){return}this.toggleSnippet(a.val())},toggleSnippet:function(a){a=a||"";if(a.indexOf("xml")>-1){this.$(".snippet_xml").show();this.$(".snippet_json").hide()}else{this.$(".snippet_json").show();this.$(".snippet_xml").hide()}},template:function(){if(this.model.isList){return Handlebars.templates.param_list}else{if(this.options.readOnly){if(this.model.required){return Handlebars.templates.param_readonly_required}else{return Handlebars.templates.param_readonly}}else{if(this.model.required){return Handlebars.templates.param_required}else{return Handlebars.templates.param}}}}});