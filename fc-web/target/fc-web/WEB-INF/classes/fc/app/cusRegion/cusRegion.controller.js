(function(){angular.module("devplatformApp").controller("CusRegionController",a);a.$inject=["CusRegionService","ngDialog","$state","$scope","PublicService"];function a(f,e,d,b,c){b.formParam={};b.choseArr=[];b.cusregionManage=c.showView("cusgionPage");b.tablesConfig={showCheckBox:true,checkOneAction:"checkOneAction",checkAllAction:"checkAllAction",tableTitles:[{title:"cusRegion.regionNo",filed:"regionNo",type:"text",width:40},{title:"cusRegion.regionName",filed:"regionName",type:"text",width:30},{title:"cusRegion.taskCeiling",filed:"taskCeiling",type:"text",width:30}],url:"api/cusRegion/page",formParams:{regionNo:b.formParam.regionNo,regionName:b.formParam.regionName,}};b.checkOneAction=function(g){b.choseArr=[];angular.forEach(g,function(h){if(h.checked){b.choseArr.push(h)}})};b.checkAllAction=function(g){b.choseArr=[]};b.loadAll=function(){b.refreshTableList(b.formParam)};b.resetSearch=function(){b.formParam={}};b.addCusRegion=function(){d.go("app.cusRegion-edit",{id:""})};b.editCusRegion=function(){if(b.choseArr.length!=1){var g="global.chooseOneEdit";c.openDialog(g);return}else{d.go("app.cusRegion-edit",{id:b.choseArr[0]["id"]})}};b.batchDelete=function(){b.choseArr=b.getCheckValues("activated").check;var g="";if(c.isEmptyObject(b.choseArr[0])){g="global.selectDelete";c.openDialog(g);return}g="global.messages.deleteConfirm";c.showConfirmDialog(g,"confirmDelete",b,b.checked)};b.confirmDelete=function(g){f.deleteCusRegion(g).then(function(h){if(h.statusCode==="0000"){b.loadAll();var i="global.messages.deleteSuccess";c.openDialog(i)}else{c.openDialog(h.msgCode)}})}}})();